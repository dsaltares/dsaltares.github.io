<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>

  <title>Periplo por un entorno de trabajo para Ogre &middot; David Saltares</title>

  
  <link rel="stylesheet" href="../../css/poole.css">
  <link rel="stylesheet" href="../../css/hyde.css">
  <link rel="stylesheet" href="../../css/poole-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-x.css">
  <link rel="stylesheet" href="../../css/highlight/zenburn.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../touch-icon-144-precomposed.png">
  <link href="../../img/favicon.png" rel="icon">

  
  
  
  

  <meta name="description" content="">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-4440744-3', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="../../"><img src="../../img/profile.jpg"
             alt="profile-picture" id="profile-img" title="David Saltares"></a>
      <h1><a href="../../">David Saltares</a></h1>
      <p class="lead">Software Development</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="../../">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="../../about">About</a></li>
      
      <li class="sidebar-nav-item"><a href="../../apps-tools">Apps &amp; Tools</a></li>
      
      <li class="sidebar-nav-item"><a href="../../game-jams">Game Jams</a></li>
      
      <li class="sidebar-nav-item"><a href="../../games">Games</a></li>
      
      <li class="sidebar-nav-item"><a href="../../libgdx-cross-platform-game-development-cookbook">Libgdx Cookbook</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="http://github.com/dsaltares"><i class="fa fa-github-square fa-2x"></i></a>
      
      
      <a href="https://www.linkedin.com/in/davidsaltares"><i class="fa fa-linkedin-square fa-2x"></i></a>
      
      
      <a href="http://twitter.com/d_saltares"><i class="fa fa-twitter-square fa-2x"></i></a>
      <a href="https://www.youtube.com/channel/UCw375yUExJOVIEHmvmPFWyg"><i class="fa fa-youtube-square fa-2x"></i></a>
      <a href="../../index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-2x"></i></a>
      </li>
    </ul>

    

    <div class="copyright">
      <p>
        &copy; 2020 David Saltares.<br/>
        Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X.</a><br/>
        Hosted on <a href="https://pages.github.com/">Github Pages</a>.
      </p>
    </div>
  </div>
</div>

<div class="content container">
  <div class="post">
    <h1 class="post-title">Periplo por un entorno de trabajo para Ogre</h1>
    <span class="post-date">Aug 6, 2010 &middot; <a href="https://saltares.com/games/periplo-por-un-entorno-de-trabajo-para-ogre/#disqus_thread">Comments</a>
    
    <br/>
    <a class="label" href="../../categories/games-development">Games development</a>
    </span>
    

<p>Estos días he estado tratando de establecer un <strong>entorno de trabajo multiplataforma</strong> para trabajar en los ejemplos de <strong><a href="http://osl.uca.es/iberogre/">IberOgre</a></strong> y en el propio <strong>Sion Tower</strong>. Lo ideal, para mí, era poder compilar con herramientas libres y sin tener que depender de ningún IDE. Al no ser la forma habitual de desarrollar de la comunidad de Ogre, la documentación era escasa y acertar ha sido sorprendentemente complicado. Les contaré mi periplo:</p>

<p><img src="../../img/wp/VisualStudio.png" alt="VisualStudio.png" /></p>

<h3 id="herramientas-privativas">Herramientas privativas</h3>

<p>La wiki oficial de Ogre da mucho soporte a <strong><a href="http://es.wikipedia.org/wiki/Microsoft_Visual_Studio">Microsoft Visual Studio</a></strong> pero al ser privativo <strong>no encajaba con la filosofía</strong> de IberOgre y lo descarté. No creo que utilizar herramientas no libres sea bueno en un proyecto que pretende ser accesible con facilidad. Suficientes trabas pone ya el hecho de tener que interiorizar conceptos complejos como para encontrarse en la necesidad de piratear software, violar licencias etc.</p>

<p>Cualquier desarrollador debería poder, siguiendo el manual de IberOgre, establecer un entorno de trabajo sin costes de ningún tipo y sin problemas con licencias. Ogre3D es software LGPL y creo que, en el marco en el que estamos moviéndonos, sería recomendable mantenerse en la línea.</p>

<p><img src="../../img/wp/cmake.png" alt="cmake.png" /></p>

<h3 id="cmake-el-generador-de-makefiles">CMake, el generador de makefiles</h3>

<p><a href="http://es.wikipedia.org/wiki/CMake"><strong>CMake</strong></a> es una herramienta multiplataforma y open source capaz de g<strong>enerar makefiles específicos</strong> para cada plataforma. Debemos crear un fichero CMakeLists.txt con las instrucciones pertinentes: código a compilar, librerías requeridas y demás dependencias. Parecía algo estupendo, con un solo fichero de CMake podría generar makefiles para compilar proyectos tanto en GNU/Linux (GCC) como en Windows (MinGW).</p>

<p>Finalmente, los inconvenientes de CMake me hicieron prescindir de él. Existe poca documentación y su <strong>curva de aprendizaje</strong> es alta. Además no crea objetivos <em>&ldquo;clean&rdquo;</em> que verdaderamente limpien los ficheros que se generan en la compilación. Estos inconvenientes no compensaban añadir una capa de abstracción más al proceso.</p>

<p><img src="../../img/wp/codeblocks-logo.png" alt="codeblocks-logo.png" /></p>

<h3 id="code-blocks-el-ide-libre">Code::Blocks, el IDE libre</h3>

<p><a href="http://es.wikipedia.org/wiki/Code::Blocks"><strong>Code::Blocks</strong></a> es un entorno de desarrollo integrado libre con versiones para Linux y Windows. Además, cuenta con <strong>asistentes para la creación de proyectos</strong> de Ogre. Mi desesperación en ese momento era considerable y estaba dispuesto a usar un IDE si merecía la pena.</p>

<p>Todo no podía ser bueno y comencé a encontrarme con varios obstáculos. Los asistentes generaban proyectos que escribían en el directorio de instalación de Ogre y que precisaban de múltiples ajustes. Por si fuera poco el asistente de Windows <strong>no era compatible con la versión 1.7</strong> del motor (la más reciente) y tuve que descargar la nueva versión del wizard desde aquí.</p>

<p>Code::Blocks utiliza el compilador GCC en Linux y, si lo deseas, MinGW en Windows. Era muy posible que internamente utilizase make (o algo parecido) para compilar sus proyectos. Si ese era el caso, <strong>seguramente existiera un exportador</strong> que tomara un proyecto de Code::Blocks y lo convirtiera en un makefile.</p>

<h3 id="makefile-a-partir-de-un-proyecto-de-code-blocks">Makefile a partir de un proyecto de Code::Blocks</h3>

<p>Al encontrar, <strong>cbp2mak</strong>, el deseado exportador vislumbré un rayo de esperanza. Quizás, finalmente pudiera utilizar un makefile para cada plataforma que se ajustara exactamente a mis necesidades. El proceso es muy sencillo, <a href="http://bblean.berlios.de/cbp2mak-0.2.zip">descargamos cbp2mak</a> y ejecutamos las siguientes instrucciones:</p>

<pre><code>unzip cbp2mak-0.2.zip
cd cbp2mak.zip
make

./cbp2mak -C ruta_al_proyecto proyecto.cbp
</code></pre>

<p>El makefile resultante es un poco extraño y complejo pero, utilizando ese como base he podido crear unos a mi medida. Un proyecto de Code::Blocks es un <strong>XML</strong> en el fondo, podemos abrirlo con un editor y ver qué flags utiliza para el compilador y el enlazador.</p>

<p><img src="../../img/wp/gnu.png" alt="gnu.png" /></p>

<h3 id="el-resultado">El resultado</h3>

<p>En contra de todo pronóstico, <strong>el resultado ha sido excelente</strong>. A continuación, coloco un ejemplo de cómo sería una jerarquía de directorios para un proyecto básico en Ogre:</p>

<pre><code>|- proyecto
|
|- src
|   |- ficheros.cpp
|
|- include
|   |- ficheros.h
|
|- plugins (en caso de ser necesarios)
|
|- makefile-linux
|- makefile-windows
</code></pre>

<p>Para <strong>compilar</strong> sólo tendríamos que hacer (según el sistema operativo):</p>

<pre><code>make -f makefile-linux depend
make -f makefile-linux

mingw32-make -f makefile-windows depend
mingw32-make -f makefile-windows
</code></pre>

<p>Para personalizar el nombre del proyecto sólo tenemos que modificar el valor de una variable en cada makefile. Por supuesto, esto supone tener una serie de paquetes en el sistema y ciertas variables de entorno, todo el proceso de instalación acabará ampliamente detallado en IberOgre.</p>

<p><strong>Ahora a seguir trabajando duro</strong> y llenar de contenido el wiki.</p>

  </div>
  <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'siondream';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<script src="../../js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

