<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.84.0" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>

  <title>David Saltares &middot; David Saltares</title>

  
  <link rel="stylesheet" href="../../css/poole.css">
  <link rel="stylesheet" href="../../css/hyde.css">
  <link rel="stylesheet" href="../../css/poole-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-x.css">
  <link rel="stylesheet" href="../../css/highlight/zenburn.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../touch-icon-144-precomposed.png">
  <link href="../../img/favicon.png" rel="icon">

  
  
  
  <link href="%7balternate%20%7bRSS%20application/rss&#43;xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20https://saltares.com/index.xml%7d" rel="alternate" type="application/rss+xml" title="David Saltares &middot; David Saltares" />

  <meta name="description" content="">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-4440744-3', 'auto');
    ga('send', 'pageview');
  </script>
  

  
  <link rel="canonical" href="https://saltares.com/" itemprop="url" />
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="../../"><img src="../../img/profile.jpg"
             alt="profile-picture" id="profile-img" title="David Saltares"></a>
      <h1><a href="../../">David Saltares</a></h1>
      <p class="lead">Software Development</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="../../">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="../../about">About</a></li>
      
      <li class="sidebar-nav-item"><a href="../../apps-tools">Apps &amp; Tools</a></li>
      
      <li class="sidebar-nav-item"><a href="../../game-jams">Game Jams</a></li>
      
      <li class="sidebar-nav-item"><a href="../../games">Games</a></li>
      
      <li class="sidebar-nav-item"><a href="../../libgdx-cross-platform-game-development-cookbook">Libgdx Cookbook</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="http://github.com/dsaltares"><i class="fa fa-github-square fa-2x"></i></a>
      
      
      <a href="https://www.linkedin.com/in/davidsaltares"><i class="fa fa-linkedin-square fa-2x"></i></a>
      
      
      <a href="http://twitter.com/d_saltares"><i class="fa fa-twitter-square fa-2x"></i></a>
      <a href="https://www.youtube.com/channel/UCw375yUExJOVIEHmvmPFWyg"><i class="fa fa-youtube-square fa-2x"></i></a>
      <a href="../../index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-2x"></i></a>
      </li>
    </ul>

    

    <div class="copyright">
      <p>
        &copy; 2021 David Saltares.<br/>
        Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X.</a><br/>
        Hosted on <a href="https://pages.github.com/">Github Pages</a>.
      </p>
    </div>
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/libgdx-is-a-1m-loc-project/">Libgdx has &gt;1M LoC project</a>
      </h1>
      <span class="post-date">Mar 22, 2014 &middot; 1 minute read &middot; <a href="https://saltares.com/games/libgdx-is-a-1m-loc-project/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>Don&rsquo;t exactly remember how, but last night I came across <a href="http://sourceforge.net/projects/codeanalyze-gpl/">Code Analyzer</a>, an open source Java desktop utility that counts lines of code. Out of curiosity, I downloaded the runnable jar file and tried it with Libgdx.</p>
<p><img src="../../img/wp/libgdx-code-stats.png" alt="libgdx-code-stats.png"></p>
<p>I was very much aware that Libgdx was a pretty big project but certainly didn&rsquo;t expect it to be that large. At the time of writing the <code>HEAD</code> of the repository contains 1.048.646 lines of Java, C and C++. 712.016 of which are actual code, 17% are comments while the rest are just whitespaces.</p>
<p>Not bad, huh?</p>
<p>Although this is obviously not a quality indicator, it shows how big of a baby it is.</p>
<p>There you go, your fun fact of the day.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/computing/contribute-back-to-open-source-projects/">Contribute back to open source projects</a>
      </h1>
      <span class="post-date">Mar 14, 2014 &middot; 4 minute read &middot; <a href="https://saltares.com/computing/contribute-back-to-open-source-projects/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/computing">Computing</a><a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>Developers love <a href="https://github.com/libgdx/libgdx">Libgdx</a>, it&rsquo;s an extremely efficient, easy to use, open source, feature rich, cross platform framework. It has a huge community, and a very active repository. What&rsquo;s not to love? The fact that <a href="http://www.appbrain.com/stats/libraries/details/libgdx/libgdx">1.40% apps on AppBrain use Libgdx</a> backs that up.</p>
<p><img src="../../img/wp/libgdx-appbrain-stats.png" alt="libgdx-appbrain-stats.png"></p>
<p>Have you thought about contributing back?</p>
<blockquote>
<p>Who, me?</p>
</blockquote>
<p>Yes and here&rsquo;s why.</p>
<h3 id="so-much-win">So much win</h3>
<p>The beauty of a healthy community driven project such as Libgdx is that decisions are crowd-sourced and code is always peer reviewed. Although this may feel intimidating, don&rsquo;t let it put you off, take it as the fantastic opportunity to learn that it actually is. The most active developers over there are talented, very talented. That&rsquo;s the kind of people you want to hang out with, just so eventually, you end up absorbing some of their skills.</p>
<p>Personally, that&rsquo;s what I do.</p>
<p>Some <a href="https://github.com/libgdx/libgdx/pull/575">pull requests</a> contain interesting discussions about software design and programming.</p>
<h3 id="low-barrier-of-entry">Low barrier of entry</h3>
<p>Regardless of your level of expertise, there surely is something you can do. From maintaining the documentation to fixing that annoying old bug or introducing a small feature. All contributions are welcome. Actually, even the tiniest thing will bring you closer to the codebase and lead you to a better of understanding of it.</p>
<p><img src="../../img/wp/libgdx-pull-request.png" alt="libgdx-pull-request.png"></p>
<p><a href="https://github.com/libgdx/libgdx/pull/1335">Everyone makes mistakes</a>, and when that happens, people will politely point it out, giving the contributor a chance to fix it and resubmit. The community is understanding and I haven&rsquo;t seen any attempts to bring shame to anyone.</p>
<p>This is not a League of Legends game.</p>
<p>Unfortunately, <a href="../../computing/dont-be-a-dick-with-the-community/">this is not the case for every project</a>. We&rsquo;re lucky Libgdx is full of love.</p>
<blockquote>
<p>This is all lovely but what&rsquo;s in it for me?</p>
</blockquote>
<p>Portfolio, exposure and recognition.</p>
<h3 id="at-least-do-it-for-yourself">At least, do it for yourself</h3>
<p>Even from a purely selfish standpoint, there are pretty strong reasons to get involved with open source projects. Even more so if you&rsquo;re a student or will be looking for a job in the foreseeable future.</p>
<blockquote>
<p>Yes! I want to get into the industry!</p>
</blockquote>
<p>Sorry to break the bad news for you, once you finish university you&rsquo;ll be out in the wild with thousands of other employment hungry graduates. They tend to complain no one will hire them because of their lack of industry experience. See the vicious circle? Luckily enough, that&rsquo;s nothing more than a bad excuse in the software industry, where the requirements to <em>‘make it yourself'</em> are negligible. All it takes is a computer with an Internet connection, which I&rsquo;m pretty sure you already have.</p>
<p>Working on personal projects that you might eventually open source is fantastic and will make you stand out. However, collaborating on a big project with other people reflects so much better on you. Companies need people to jump into projects and get the hang of it ASAP. That involves being comfortable with gigantic codebases written by people you don&rsquo;t know or just met and being able to identify as well as fix the problems within it.</p>
<p>A big open source project gives you that education, for free. Companies will appreciate that enormously.</p>
<blockquote>
<p>I&rsquo;m experienced and looking for a job.</p>
</blockquote>
<p>No doubt other similarly experienced people are seeking similar positions right now. You will compete against them in the hiring process. What&rsquo;s going to set you apart? Exactly, going the extra mile, possibly through open source projects, being active in a community, blogging or public speaking. You get the hang of it.</p>
<h3 id="how-to">How to</h3>
<p>I guess if you&rsquo;ve read this far, we agree to some degree and you might be interested in getting involved.</p>
<p>Good!</p>
<p>In order to start contributing back to Libgdx, it&rsquo;s advisable to read the <em><a href="https://github.com/libgdx/libgdx/wiki/Contributing">Contributing</a></em> wiki page. Later on you should do the following.</p>
<ol>
<li>Clone the repository</li>
<li>Check the <a href="https://github.com/libgdx/libgdx/issues?state=open">issues and feature requests</a> section</li>
<li>Work on it</li>
<li>Send a <a href="https://github.com/libgdx/libgdx/pulls">pull request</a></li>
<li>Rinse and repeat</li>
</ol>
<p>When in doubt, you can always ask in the <a href="http://www.badlogicgames.com/forum/">forums</a> or discuss in the #libgdx IRC channel at <code>irc.freenode.net</code>.</p>
<p>Happy coding!</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/fixing-your-timestep-in-libgdx-and-box2d/">Fix your timestep in Libgdx and Box2D</a>
      </h1>
      <span class="post-date">Mar 11, 2014 &middot; 4 minute read &middot; <a href="https://saltares.com/games/fixing-your-timestep-in-libgdx-and-box2d/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p><em><a href="http://gafferongames.com/game-physics/fix-your-timestep/">Fix your Timestep</a></em> is a fantastic article by Glenn Fiedler that explains the different ways to tick a physics simulation. Show some self-respect, go read it and check some of his other articles on physics and network code. Some might be 8 years old but still totally relevant.</p>
<p>Essentially, it covers different approaches to pick a delta value to pass through to the physics engine along their strengths and weaknesses. The topic is complex but has an undeniable impact on games' behaviour.</p>
<p>I thought it would be a good idea to show how it translates to a <a href="https://github.com/libgdx/libgdx">Libgdx</a> application using the <a href="http://box2d.org/">Box2D</a> physics engine. Note that it also applies to <a href="http://bulletphysics.org/wordpress/">Bullet</a>, changes would be minimal.</p>
<h3 id="simple-but-wrong-approaches">Simple but wrong approaches</h3>
<p>It starts with a fix time step of 1/60th of a second, which makes for a stable simulation but fails terribly when the game runs at less than 60fps, a very common situation in mobile devices.</p>
<p>The logical upgrade is to pass exactly how much time has passed since the last frame. Obviously, not every frame takes the same, which means the simulation could be unstable. Moreover, it will vary across devices as they can feature a wide range of specifications. This is definitely not the way to go.</p>
<blockquote>
<p>Everything is lost!</p>
</blockquote>
<h3 id="fixed-timestep">Fixed timestep</h3>
<p>If only we had the best of both worlds! A fixed timestep and a mechanism that caters for the render loop being too slow. As the article explains, the physics will always be stepped by a fixed amount, let&rsquo;s say 1/60s. Some machines may be too fast and render at 120fps, so we can run the physics twice. However, others might be too slow and render at 30fps, in which case we&rsquo;d only step the physics one every two frames.</p>
<blockquote>
<p>What happens when the game runs at 50fps?</p>
</blockquote>
<p>We need an <code>accumulator</code> where we can put the time spent by the renderer. Then we step the physics by a fixed amount until they sync as best as possible. There might be still be some time left, but we can save it for the next frame.</p>
<pre><code>public class SionGame extends ApplicationListener {
    private World world;
    private double accumulator;
    private double currentTime;
    private float step = 1.0f / 60.0f;

    public void render() {
        double newTime = TimeUtils.millis() / 1000.0;
        double frameTime = Math.min(newTime - currentTime, 0.25);
        float deltaTime = (float)frameTime;

        currentTime = newTime;

        while (accumulator &amp;gt;= step) {
            world.step(step, velIterations, posIterations);
            accumulator -= step;
        }
}
</code></pre><h3 id="fixed-timestep-with-interpolation">Fixed timestep with interpolation</h3>
<p>The <code>accumulator &lt;= step</code> condition in the <code>while</code> loop means we can still have some time left in the accumulator but not enough to step the physics at 1/60s. This results in some visual stuttering, as the physics can get slightly out of sync for a while. Glenn Fiedler&rsquo;s suggests we interpolate our entities' transforms between the previous and current physics state based on how much time left is in the accumulator.</p>
<pre><code>public class SionGame extends ApplicationListener {
    private World world;
    private double accumulator;
    private double currentTime;
    private float step = 1.0f / 60.0f;

    public void render() {
        double newTime = TimeUtils.millis() / 1000.0;
        double frameTime = Math.min(newTime - currentTime, 0.25);
        float deltaTime = (float)frameTime;

        currentTime = newTime;

        while (accumulator &amp;gt;= step) {
            world.step(step, velIterations, posIterations);
            accumulator -= step;
            entityManager.update();
        }

        entityManager.interpolate(accumulator / step);
}
</code></pre><p>I entirely made <code>EntityManager</code> up, it simply should maintain a collection of your game entities. We assume <code>entityManager.update()</code> iterates over the list of game entities and updates their position and rotation according to the current physics state. On the other hand, <code>entityManager.interpolate()</code> should do something like the following.</p>
<pre><code>public void interpolate(float alpha) {
    for (Entity entity : entities) {
        Transform transform = entity.getBody().getTransform();
        Vector2 bodyPosition = transform.getPosition();
        Vector2 position = entity.getPosition();
        float angle = entity.getAngle();
        float bodyAngle = transform.getRotation();

        position.x = bodyPosition.x * alpha + position.x * (1.0f - alpha);
        position.y = bodyPosition.y * alpha + position.x * (1.0f - alpha);
        entity.setAngle(bodyAngle * alpha + angle * (1.0f - alpha));
    }
}
</code></pre><p>Although it&rsquo;s been simplified for the purpose of this text, the following snippet comes from <a href="https://github.com/siondream/sioncore">SionCore</a>.</p>
<h3 id="a-working-sample">A working sample</h3>
<p>Libgdx community memeber, Just4phil, pointed out in the comments the advantages of using a fixed timestep with interpolation. He kindly provided a working sample that lets you switch between all approaches explained in this article. Not only that, he also linked to the source, which is really awesome. Kudos.</p>
<p><img src="../../img/wp/just4phil-fixed-timestep.png" alt="Fixed timestep demo"></p>
<ul>
<li><a href="http://goo.gl/aF0wSJ">Download demo jar</a></li>
<li><a href="https://github.com/just4phil/bubblr3_00.010a/blob/master/bubblr3/src/de/philweb/bubblr3/GameScreen.java">Fixed timestep code</a></li>
<li><a href="https://github.com/just4phil/bubblr3_00.010a/blob/master/bubblr3/src/de/philweb/bubblr3/GameObjectManager.java">Interpolation code</a></li>
</ul>
<p>Again, read <a href="http://gafferongames.com/game-physics/fix-your-timestep/">the original article</a> if you haven&rsquo;t done so already.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/sioncore-a-small-game-engine/">SionCore, a small game engine</a>
      </h1>
      <span class="post-date">Mar 10, 2014 &middot; 2 minute read &middot; <a href="https://saltares.com/games/sioncore-a-small-game-engine/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>Today I created a repository on Gihub to keep track of my code base and I named it <a href="https://github.com/dsaltares/sioncore">SionCore</a>. This wasn&rsquo;t made overnight, it&rsquo;s the result of several small game projects, such as game jam gigs and <a href="../../games/math-maze/">Math Maze</a>.</p>
<p>Slowly, it became obvious that some components were highly reusable and game agnostic. That is why I thought it would be good to make it public.</p>
<p>Who knows, maybe someday someone might even contribute!</p>
<p>This small <em>game engine</em> is built on top of <a href="https://github.com/libgdx/libgdx">Libgdx</a> and <a href="https://github.com/stbachmann/ashley">Ashley</a> among others and it&rsquo;s compatible with desktop, Android and iOS platforms.</p>
<h3 id="disclaimer">Disclaimer</h3>
<p>SionCore is currently under heavy development, so expect constant API changes and a good deal of instability. Hopefully this one will last longer than my poorly executed previous attempts and will stabilise in a while. If that&rsquo;s what floats your boat, you&rsquo;re more than welcome on board.</p>
<p>Regardless of whether you use the whole thing or grab specific ideas, feedback is more than welcome.</p>
<h3 id="features">Features</h3>
<p>Currently implemented and working.</p>
<ul>
<li>Data driven entities</li>
<li>Entity components and system collection: rendering, animation, physics.</li>
<li>Localisation with automatic generation of template CSV files.</li>
<li>Easy screen management</li>
<li>Config files</li>
<li>Data driven sprites</li>
<li>Data driven physics</li>
<li>Grouped asset management</li>
<li>Basic state machine implementation</li>
<li>Populate your Box2D world from map data</li>
<li>Spine integration</li>
<li>Multiple aspect ratio support</li>
</ul>
<h3 id="dependencies">Dependencies</h3>
<p>As of now, all the <code>.jar</code> files SionCore needs are included in the repository. However, switching to Gradle or Maven is something I want to get out of the way sooner rather than later.</p>
<h3 id="contributing">Contributing</h3>
<p>If you find a bug or would like a particular feature, please <a href="https://github.com/dsaltares/sioncore/issues">open an issue</a>. On the other hand, if you want to get more involved, clone the repository and open a <a href="https://github.com/dsaltares/sioncore/pulls">pull request</a>!</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/computing/using-ant-behind-a-proxy/">Using Ant behind a proxy</a>
      </h1>
      <span class="post-date">Mar 10, 2014 &middot; 1 minute read &middot; <a href="https://saltares.com/computing/using-ant-behind-a-proxy/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/computing">Computing</a>
      </span>
      
      <p>Many Java projects use <a href="http://en.wikipedia.org/wiki/Apache_Ant">Ant</a> to automate their build process. Libgdx, for instance, is among them. One could possibly say Ant is the Java version of Make. Targets, dependencies and other settings are defined in XML scripts.</p>
<p>Downloading dependencies while your machine is behind a proxy might prove problematic. Luckily enough, you can specify your proxy settings inside the Ant script.</p>
<pre><code>&lt;setproxy proxyhost=&quot;host&quot; proxyport=&quot;port&quot; proxypassword=&quot;password&quot;/&gt;
</code></pre><p>Users behind a proxy would now be able to download dependencies with Ant. More documentation about the <code>setproxy</code> task is available inside the <a href="https://ant.apache.org/manual/Tasks/setproxy.html">official user manual</a>.</p>
<p>This comes from me trying to get the Libgdx development environment in my office&rsquo;s desktop. We obviously have a proxy, which put this little bump on the road.</p>

      
    </div>
    
        <div class=pagination>
        <ul class="pagination">
            <li>
                <a href="../../">««</a>
            </li>
            
            <li>
                <a href="../../page/15/">«</a>
            </li>
            
            <li class="active">
                <a href="../../page/16/">16</a>
            </li>
            
            <li>
                <a href="../../page/17/">»</a>
            </li>
            
            <li>
                <a href="../../page/61/">»»</a>
            </li>
        </ul>
    </div>
  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "siondream";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>


<script src="../../js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="../../js/load-photoswipe.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
</body>
</html>

