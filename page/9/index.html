<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.97.3" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>David Saltares &middot; Engineering Leadership &amp; Software Development</title>

  
  <link rel="stylesheet" href="../../css/poole.css">
  <link rel="stylesheet" href="../../css/hyde.css">
  <link rel="stylesheet" href="../../css/poole-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-x.css">
  <link rel="stylesheet" href="../../css/highlight/github-dark-dimmed.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../touch-icon-144-precomposed.png">
  <link href="../../img/favicon.png" rel="icon">

  
  
  
  <link href="%7balternate%20%7bRSS%20application/rss&#43;xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20https://saltares.com/index.xml%7d" rel="alternate" type="application/rss+xml" title="David Saltares &middot; David Saltares" />

  <meta name="description" content="I am David and I write about engineering leadership, remote teams, software development and games development.">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-4440744-3', 'auto');
    ga('send', 'pageview');
  </script>
  

  

  
  <link rel="canonical" href="https://saltares.com/" itemprop="url" />
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="../../"><img src="../../img/profile.jpg"
             alt="profile-picture" id="profile-img" title="David Saltares"></a>
      <h1><a href="../../">David Saltares</a></h1>
      <p class="lead">Engineering Leadership &amp; Software Development</p>
      <div class="subscribe"><a href="https://tinyletter.com/dsaltares/">✉️ Subscribe</a></div>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="../../">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="../../about">About</a></li>
      
      <li class="sidebar-nav-item"><a href="../../apps-tools">Apps &amp; Tools</a></li>
      
      <li class="sidebar-nav-item"><a href="../../game-jams">Game Jams</a></li>
      
      <li class="sidebar-nav-item"><a href="../../games">Games</a></li>
      
      <li class="sidebar-nav-item"><a href="../../libgdx-cross-platform-game-development-cookbook">Libgdx Cookbook</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a aria-label="Github profile" href="http://github.com/dsaltares"><i class="fa fa-github-square fa-2x"></i></a>
      
      
      <a aria-label="LinkedIn profile" href="https://www.linkedin.com/in/davidsaltares"><i class="fa fa-linkedin-square fa-2x"></i></a>
      
      
      <a aria-label="Twitter profile" href="http://twitter.com/d_saltares"><i class="fa fa-twitter-square fa-2x"></i></a>
      
      <a aria-label="RSS" href="../../index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-2x"></i></a>
      </li>
    </ul>

    

    <div class="copyright">
      <p>&copy; 2022 David Saltares.</p>
    </div>
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/thoughts-on-unit-testing-for-ashley-and-games-in-general/">Thoughts on unit testing for Ashley and games in general</a>
      </h1>
      <span class="post-date">Dec 13, 2015 &middot; 4 minute read &middot; <a href="https://saltares.com/games/thoughts-on-unit-testing-for-ashley-and-games-in-general/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>Shortly after we moved <a href="https://github.com/libgdx/ashley">Ashley</a> into the <a href="https://github.com/libgdx">Libgdx</a> family, we started writing <a href="https://github.com/libgdx/ashley/tree/master/ashley/tests/com/badlogic/ashley">unit tests</a> for every single component in the framework using <a href="http://junit.org/">jUnit</a>.</p>
<h3 id="unit-testing-goodness">Unit testing goodness</h3>
<p>That was over a year and a half ago and it has proven to be a huge win for many reasons.</p>
<ul>
<li>Issue reporters can (and should) include a <a href="https://github.com/libgdx/ashley/issues/173">test that breaks</a> as a way of explaining the problem. We can then easily include it into the suite, fix it and prevent future regressions.</li>
<li>Pull requests <a href="https://github.com/libgdx/ashley/pull/187">trigger a build</a> in Jenkins that compiles the code and runs all the unit tests. Code reviews should check for design, good practices as well as correctness. However, as long as the tests have good coverage, we can be pretty sure the change won&rsquo;t break existing code.</li>
<li>Since, it is mandatory to include extensive unit tests with each new feature, we can increase quality from the get go.</li>
<li>Refactoring becomes a lot easier. We lose fear of cleaning up ugly parts of the codebase because we have unit tests to make sure the behaviour remains the same. This became evident with the recent <a href="https://github.com/libgdx/ashley/commit/261342f74dc7c1b955e7605aadeb9bfcbc112128">Engine internal refactor</a>.</li>
</ul>
<p>The morale is basically as follows.</p>
<p>
  <img src="../../img/wp/unit-test-all-the-things.png" alt="unit-test-all-the-things.png">

</p>
<p>Our <a href="https://github.com/libgdx/ashley/issues?q=is%3Aissue+is%3Aclosed">issue tracker</a> proves that we&rsquo;re far from perfect, which makes me thing about where we&rsquo;d be if it weren&rsquo;t for unit tests. Ashley inherently has lots of tricky bits of logic and potential edge cases. Making sure we don&rsquo;t break anything without automated tests would almost impossible.</p>
<p>That is why, every time we break something, we add a unit test with the fix and make sure it never ever happens again.</p>
<h3 id="lack-of-unit-testing-in-the-games-industry">Lack of unit testing in the games industry</h3>
<p>When I left the games industry as a full time occupation something struck me. There&rsquo;s an incredibly poor unit testing culture in games compared to other industries. Sure, other industries are also affected by this disease but I&rsquo;ve felt a lack of attitude in the games world to change the situation.</p>
<p>This is really, really bad.</p>
<p>As you surely know, games are complex pieces of code. Many systems with non-trivial logic interact in a real-time simulation all at once. Games development is hard! Actually, it&rsquo;s more than that! It&rsquo;s brain melting!</p>
<p>When a deadline approaches and the bug count shoots over the roof, we put in hacky fixes and hope for the best. Then our WTFs per line increase and no one ever dares to fix it because they&rsquo;re scared of breaking everything. So we keep pushing forward until the game&rsquo;s unavoidably collapses on us.</p>
<p>
  <img src="../../img/wp/wtf.png" alt="wtf.png">

</p>
<p>Some people may say that decoupling and correctly abstracting code for it to be more easily testable may add an overhead games cannot afford. I would tell them that&rsquo;s a huge empty fallacy until proven otherwise and quite possibly fall within <a href="http://c2.com/cgi/wiki?PrematureOptimization">premature optimisation</a>. These claims need to be backed by profiling data and I seriously doubt these practices will become someone&rsquo;s main bottleneck.</p>
<p>Clean and performant code is possible.</p>
<h3 id="we-can-do-better-than-this">We can do better than this</h3>
<p>Admittedly, games are very hard to test. How can you unit test a shader or a behaviour script? Many things depend on graphics or user input and we cannot automate them!</p>
<p>Here is a few things you can do.</p>
<ul>
<li>Unit test foundational classes like <a href="https://github.com/libgdx/libgdx/blob/master/gdx/test/com/badlogic/gdx/math/IntersectorTest.java">geometry intersectors</a> or <a href="https://github.com/libgdx/libgdx/blob/master/gdx/test/com/badlogic/gdx/utils/PooledLinkedListTest.java">containers</a>.</li>
<li>Write tests for game specific logic that does not depend on graphics nor user input.</li>
<li>Make sure you have a <a href="https://github.com/libgdx/libgdx/tree/master/backends/gdx-backend-headless">headless backend</a> for your engine, that way you can run it without requiring a graphic environment.</li>
<li>Use <a href="https://en.wikipedia.org/wiki/Dependency_injection">dependency injection</a>, so you can mock those dependencies in a unit test. Don&rsquo;t have your <code>Player</code> internally use a <code>PlayerController</code>, give it a reference to <code>ControllerInterface</code> in the constructor. This way you can test Player behaves well without relying on an actual keyboard.</li>
</ul>
<p>Higher level systems can be really tricky to test, especially if they&rsquo;re strongly tied to user input. In those situations, you can write an <a href="https://en.wikipedia.org/wiki/Integration_testing">integration test</a> that fakes user input and validate the output.</p>
<p>Designing your game to be unit testable is hard and may take longer but think about it as an investment. In the long run, you will face less roadblocks and will be able to iterate faster. No need to do this for a game jam prototype although I would certainly recommend it for a more serious project.</p>
<p>It&rsquo;s undeniable that writing unit tests is time consuming but I strongly believe the games industry completely underestimate their usefulness.</p>
<p>Finally, let me recommend <a href="../../computing/book-review-clean-code/">Clean Code</a> again.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/projects/ashley-1-7-0-released/">Ashley 1.7.0 released</a>
      </h1>
      <span class="post-date">Nov 10, 2015 &middot; 1 minute read &middot; <a href="https://saltares.com/projects/ashley-1-7-0-released/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a><a class="label" href="../../categories/projects">Projects</a>
      </span>
      
      <p>
  <img src="../../img/ashley/ashley-logo.png" alt="ashley-logo.png">

</p>
<p>There&rsquo;s a new <a href="https://github.com/libgdx/ashley">Ashley</a> release, check the changes for
<a href="https://github.com/libgdx/ashley/releases/tag/ashley-1.7.0">1.7.0</a> below:</p>
<ul>
<li><strong><a href="https://github.com/libgdx/ashley/issues/182">API change</a></strong>: removed UUIDs from entities, users should implement their own ID system when needed. This helps with networked games.</li>
<li><strong><a href="84de67991b343828c668985bd1cd5a4a1309cafa">Update</a></strong>: components are added/removed immediately, listeners are notified after the current system finishes updating.</li>
<li><strong><a href="https://github.com/libgdx/ashley/commit/b611dd98e28f4dc15d64b7340c8d507ba29153d5">Bug fix</a></strong>: fixed entity listeners not being called if a component is added inside another listener.</li>
<li><strong><a href="https://github.com/libgdx/ashley/commit/9ae5e459b437d7a51bfc48283cf5cd20e82989f9">Bug fix</a></strong>: does not allocate memory inside <code>updateFamilyMembership()</code>.</li>
<li><strong><a href="https://github.com/libgdx/ashley/commit/4799007c457f714ad9fe0ad606a4a0f25b825ab7">Update</a></strong>: uses Libgdx 1.7.1.</li>
</ul>
<p>To use it, change your dependency to <code>com.badlogicgames.gdx:ashley:1.7.0</code>.
The new nightly dependency is <code>com.badlogicgames.gdx:ashley:1.7.1-SNAPSHOT</code>.</p>
<p>Next, I am going to be focusing on code quality and maintainability. Particularly, try
and <a href="https://github.com/libgdx/ashley/issues/178">split <code>Engine</code></a> internally into smaller
logical components whilst keeping the API intact.</p>
<p>As usual, <a href="http://libgdx.badlogicgames.com:8080/job/ashley/">all unit tests are passing</a>
and the wiki is up to date. Please keep up the good work sending more pull
requests and reporting bugs!</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/projects/win-a-free-digital-copy-of-libgdx-cookbook/">Win a free digital copy of Libgdx Cookbook</a>
      </h1>
      <span class="post-date">Sep 21, 2015 &middot; 1 minute read &middot; <a href="https://saltares.com/projects/win-a-free-digital-copy-of-libgdx-cookbook/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a><a class="label" href="../../categories/projects">Projects</a>
      </span>
      
      <p><strong>Update</strong>: the list of winners is <a href="http://echaloasuerte.com/draw/56116030741c1f1a7290c5b3/">available as a public draw</a>.
Congratulations and thanks for the support! The Libgdx Cookbook discount will
continue until September the 30th. If you help us spread the word by retweeting
the following message, you&quot;ll have a chance of getting one of the three free
digital copies of the book we&quot;ll be giving away.</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Libgdx Cookbook is 50% off, use the code: &quot;LCPGDC50&quot; and RT to enter a raffle for 3 digital copies of the book. Level up your Libgdx skills!</p>&mdash; David Saltares (@d_saltares) <a href="https://twitter.com/d_saltares/status/645885222828015616?ref_src=twsrc%5Etfw">September 21, 2015</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/projects/libgdx-cookbook-50-off/">Libgdx Cookbook 50 off!</a>
      </h1>
      <span class="post-date">Sep 12, 2015 &middot; 1 minute read &middot; <a href="https://saltares.com/projects/libgdx-cookbook-50-off/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a><a class="label" href="../../categories/projects">Projects</a>
      </span>
      
      <p>Libgdx Cross-platform Game Development Cookbook is 50% off until September 30th
if you get it from Packt&rsquo;s website using the code <code>LCPGDC50</code>. You have to admit
it&rsquo;s a total steal, considering it&rsquo;s the most complete and up to date Libgdx
book out there.</p>
<ul>
<li>Over 75 to-the-point articles that will show you how to leverage a particular
aspect of Libgdx for your game.</li>
<li>Every article is accompanied by a runnable sample available on
<a href="https://github.com/dsaltares/libgdx-cookbook">GitHub</a>.</li>
<li>We constantly <a href="https://github.com/dsaltares/libgdx-cookbook/commits/master">update the samples on GitHub</a>
to stay compatible with the latest Libgdx version.</li>
</ul>
<p>Don&rsquo;t have it yet? Go get it!</p>
<p>
  <img src="../../img/cookbook/libgdx-cookboom-raffle.png" alt="libgdx-cookboom-raffle.png">

](<a href="http://www.packtpub.com/libgdx-cross-platform-development-cookbook/book">http://www.packtpub.com/libgdx-cross-platform-development-cookbook/book</a>)</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/projects/conjugate-is-now-available/">My new side project: Conjugate is now online</a>
      </h1>
      <span class="post-date">Aug 8, 2015 &middot; 1 minute read &middot; <a href="https://saltares.com/projects/conjugate-is-now-available/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/projects">Projects</a>
      </span>
      
      <p><a href="https://github.com/dsaltares/conjugate">Conjugate</a> is a free, multi-language verb conjugator service and it is now available at <a href="https://saltares.com/conjugate">saltares.com/conjugate</a>.</p>
<p>It&quot;dead easy: select the target language, enter the infinitive form, either in English or the target language, and press the <em>Conjugate</em> button to get a nice list with all its conjugated forms. You don&rsquo;t know how to conjugate a verb whilst on the go? No worries, Conjugate&rsquo;s design is responsive, which means it looks neat on any device. Mobile devices were actually my primary target when coming up with the layout.</p>
<p>For now it only supports Spanish, Romanian and German although I will be adding more languages in the upcoming days.</p>
<p>Check out the quick GIF demo below, give the real thing a go and
<a href="https://github.com/dsaltares/conjugate/issues">let me know what you think</a>, feedback is really appreciated.</p>
<p>
  <img src="../../img/conjugate/conjugate.gif" alt="conjugate.gif">

</p>

      
    </div>
    
        <div class=pagination>
        <ul class="pagination">
            <li>
                <a href="../../">««</a>
            </li>
            
            <li>
                <a href="../../page/8/">«</a>
            </li>
            
            <li class="active">
                <a href="../../page/9/">9</a>
            </li>
            
            <li>
                <a href="../../page/10/">»</a>
            </li>
            
            <li>
                <a href="../../page/64/">»»</a>
            </li>
        </ul>
    </div>
  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "siondream";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>


<script src="../../js/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
<script src="../../js/load-photoswipe.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
</body>
</html>

