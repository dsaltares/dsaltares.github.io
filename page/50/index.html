<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.92.2" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>David Saltares &middot; Engineering Leadership &amp; Software Development</title>

  
  <link rel="stylesheet" href="../../css/poole.css">
  <link rel="stylesheet" href="../../css/hyde.css">
  <link rel="stylesheet" href="../../css/poole-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-x.css">
  <link rel="stylesheet" href="../../css/highlight/github-dark-dimmed.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../touch-icon-144-precomposed.png">
  <link href="../../img/favicon.png" rel="icon">

  
  
  
  <link href="%7balternate%20%7bRSS%20application/rss&#43;xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20https://saltares.com/index.xml%7d" rel="alternate" type="application/rss+xml" title="David Saltares &middot; David Saltares" />

  <meta name="description" content="I am David and I write about engineering leadership, remote teams, software development and games development.">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-4440744-3', 'auto');
    ga('send', 'pageview');
  </script>
  

  

  
  <link rel="canonical" href="https://saltares.com/" itemprop="url" />
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="../../"><img src="../../img/profile.jpg"
             alt="profile-picture" id="profile-img" title="David Saltares"></a>
      <h1><a href="../../">David Saltares</a></h1>
      <p class="lead">Engineering Leadership &amp; Software Development</p>
      <div class="subscribe"><a href="https://tinyletter.com/dsaltares/">✉️ Subscribe</a></div>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="../../">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="../../about">About</a></li>
      
      <li class="sidebar-nav-item"><a href="../../apps-tools">Apps &amp; Tools</a></li>
      
      <li class="sidebar-nav-item"><a href="../../game-jams">Game Jams</a></li>
      
      <li class="sidebar-nav-item"><a href="../../games">Games</a></li>
      
      <li class="sidebar-nav-item"><a href="../../libgdx-cross-platform-game-development-cookbook">Libgdx Cookbook</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a aria-label="Github profile" href="http://github.com/dsaltares"><i class="fa fa-github-square fa-2x"></i></a>
      
      
      <a aria-label="LinkedIn profile" href="https://www.linkedin.com/in/davidsaltares"><i class="fa fa-linkedin-square fa-2x"></i></a>
      
      
      <a aria-label="Twitter profile" href="http://twitter.com/d_saltares"><i class="fa fa-twitter-square fa-2x"></i></a>
      
      <a aria-label="RSS" href="../../index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-2x"></i></a>
      </li>
    </ul>

    

    <div class="copyright">
      <p>&copy; 2022 David Saltares.</p>
    </div>
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/sistema-de-audio-pseudo-3d-integrado-con-ogre/">Sistema de audio pseudo-3D integrado con Ogre</a>
      </h1>
      <span class="post-date">Dec 30, 2010 &middot; 4 minute read &middot; <a href="https://saltares.com/games/sistema-de-audio-pseudo-3d-integrado-con-ogre/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p><img src="../../img/wp/audio3d-ogre1.png" alt="audio3d-ogre1.png"></p>
<p>Como todo buen hijo de vecino, <strong><a href="../../category/proyectos/pfc/sion-tower/">Sion Tower</a> necesitará reproducir efectos de sonido y música</strong> de fondo, de otro modo al jugador se le caerían dos lagrimones y lo cerraría para siempre. Ogre es un motor de renderizado y no incorpora elementos como un subsistema de audio, por tanto, debía buscarlo en otro lugar. Como he comentado anteriormente, Ogre cuenta con un sistema de gestión de recursos muy potente y ampliable. Sobra decir que mi audio debería <strong>integrarse completamente</strong> con dicho sistema. A continuación, relato mi pequeña odisea para conseguir lo deseado.</p>
<h3 id="elegir-una-biblioteca-de-audio">Elegir una biblioteca de audio</h3>
<p>Debía elegir una biblioteca para gestionar el audio, al menos a bajo nivel. <strong>Las opciones más evidentes eran <a href="http://es.wikipedia.org/wiki/Simple_DirectMedia_Layer#Componentes_adicionales">SDL Mixer</a> y <a href="http://es.wikipedia.org/wiki/OpenAL">OpenAL</a></strong>. Indagando un poco, encontré una biblioteca auxiliar llamada <strong><a href="http://www.ogre3d.org/tikiwiki/OgreOggSound&amp;structure=Libraries">OgreOggSound</a></strong> que integraba OpenAL con Ogre incorporando audio 3D. Los ojos se me abrieron como platos pero me llevé una decepción cuando vi que la documentación brillaba por su ausencia. Además, <strong>prefería aprender</strong> la forma de extender la gestión de recursos de Ogre y cacharrear un poco con el audio.</p>
<p><strong>OpenAL</strong> es al sonido lo que OpenGL al 3D en el ámbito open source. Es compatible con decenas de plataformas y está enfocada al desarrollo de videojuegos en 3D. Títulos triple A como Doom 3, Battlefield 2 o Jedi Knight lo han utilizado. Como era de esperar, es un <strong>sistema muy grande y complejo</strong>.</p>
<p><strong>SDL Mixer</strong> es una biblioteca <strong>pequeña y sencilla</strong> que me permite regular aspectos como volumen y ángulo para provocar un efecto pseudo 3D. Ya había trabajado con ella en <a href="../../proyectos/air-force-pilot/">Air Force Pilot</a> y en <a href="../../proyectos/grannys-bloodbath/">Granny&rsquo;s Bloodbath</a> de forma satisfactoria. Además, es compatible con las plataformas que necesito. En fin, es más limitada pero me basta para mis necesidades.</p>
<h3 id="integración-con-la-gestión-de-recursos-de-ogre">Integración con la gestión de recursos de Ogre</h3>
<p>Los recursos que queramos <strong>integrar con Ogre</strong> deben implementar la interfaz <a href="http://www.ogre3d.org/docs/api/html/classOgre_1_1Resource.html">Resource</a>. Ogre utiliza el <a href="http://www.ogre3d.org/docs/api/html/classOgre_1_1ResourceGroupManager.html">ResourceGroupManager</a> para gestionar los recursos a nivel global pero tiene un <a href="http://www.ogre3d.org/docs/api/html/classOgre_1_1ResourceManager.html">ResourceManager</a> para cada tipo de recurso. Esto quiere decir que tenemos que implementar clases que hereden de ResourceManager. Los gestores de recursos no manejan objetos Resource directamente, sino que utilizan punteros inteligentes, <a href="http://www.ogre3d.org/docs/api/html/classOgre_1_1SharedPtr.html">SharedPtr</a> muy similares a los <a href="http://www.boost.org/doc/libs/1_45_0/libs/smart_ptr/shared_ptr.htm">shared_ptr</a> de Boost. Esto les permite mantener una sola instancia de cada recurso compartida por varias entidades.</p>
<p>SDL Mixer trata de forma distinta la música y los efectos de sonido por lo que planteé <strong>dos nuevos recursos: Musica y Sonido</strong>. A continuación tenéis la lista de clases resultante aunque al final de este artículo se expone un diagrama UML completo.</p>
<ul>
<li>SoundFX y SoundFXPtr</li>
<li>Song y SongPtr</li>
<li>SoundFXManager</li>
<li>SongManager</li>
</ul>
<p>La forma de trabajar con los nuevos recursos es semejante al estilo de Ogre. Queda completamente integrado:</p>
<pre tabindex="0"><code>// Al arrancar la aplicación
SoundFXManager* soundFXManager = new SoundFXManager();

// Durante la carga de algún estado
// Se le indica el nombre del recurso, ResourceGroupManager
// te proporciona la ruta completa.
SoundFXPtr sound = SoundFXManager::getSingleton().load(&quot;disparo.wav&quot;);

// Durante el game loop
sound-&gt;play();

// Al cerrar la aplicación
delete soundFXManager;
</code></pre><h3 id="sencillo-pero-resultón-sonido-3d">Sencillo pero resultón sonido 3D</h3>
<p>No todos los sonidos tienen porqué reproducirse con efecto 3D por lo que he modelado este pequeño sistema de forma independiente. <strong>La clase Sound3D</strong> tiene un SoundFXPtr y dos punteros a SceneNode. Uno de los nodos es el emisor y el otro el que escucha. El volumen varía en función de la distancia entre ambos nodos mientras que el ángulo entre ambos elementos produce un efecto estéreo. El siguiente diagrama lo ilustra:</p>
<p><img src="../../img/wp/audio3d-esquema.png" alt="audio3d-esquema.png"></p>
<p>SDL Mixer distribuye los efectos de sonido en los canales que se hayan reservado a tal efecto. Un mismo Sound3D puede estar reproduciéndose en canales distintos al mismo tiempo. La clase Sound3D controla internamente qué sonido tiene asociado cada canal. Se pone a disposición del desarrollador un <strong>método estático para actualizar todos los sonidos 3D</strong> en reproducción. Preferiblemente una vez por cada iteración del game loop deberíamos hacer:</p>
<pre tabindex="0"><code>// Actualizar todos los sonidos 3D en reproducción
Sound3D::update3DSound();
</code></pre><h3 id="a-vista-de-pájaro">A vista de pájaro</h3>
<p>El siguiente <strong>diagrama de clases</strong> simplificado ilustra a grandes rasgos los elementos de este sistema de audio y sus relaciones.</p>
<p><img src="../../img/wp/audio3d-clases1.png" alt="audio3d-clases1.png"></p>
<h3 id="para-terminar">Para terminar</h3>
<p>¡Vaya, me he extendido más de la cuenta! Han sido dos días intensos de trabajo entre aprender a extender la gestión de recursos de Ogre e implementación. En principio he desarrollado este sistema de sonido para Sion Tower pero en realidad <strong>es completamente independiente</strong>. Si estás desarrollando un juego y te interesa, acude a la <a href="https://forja.rediris.es/projects/cusl5-iberogre/">forja</a> y utiliza lo que desees (es GPL).</p>
<p>Seguiré informando de mis avances, muchas gracias por leer.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/hobbies/boardwalk-empire/">Boardwalk Empire</a>
      </h1>
      <span class="post-date">Dec 29, 2010 &middot; 3 minute read &middot; <a href="https://saltares.com/hobbies/boardwalk-empire/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/hobbies">Hobbies</a>
      </span>
      
      <p><img src="../../img/wp/Boardwalk-Empire.jpg" alt="Boardwalk-Empire.jpg"></p>
<p>Últimamente me he aventurado a comenzar series como <a href="../../ocio/series/the-walking-dead/">The Walking Dead</a>, <a href="../../ocio/series/community-1%C2%AA-temporada/">Community</a> o la que nos ocupa en estos momentos, <strong><a href="http://www.imdb.com/title/tt0979432/">Boardwalk Empire</a></strong>. He de reconocer que la apertura de miras ha venido bien pues no me he sentido demasiado decepcionado en ningún caso. ¿Quién sabe? Puede que sea un conformista. Como varias de las series de la HBO, <strong>estamos ante una obra de monóculo</strong>. La mano de <a href="http://www.imdb.com/name/nm0000217/">Martin Scorsese</a> se nota aunque sólo se haya visto involucrado de pleno en el episodio piloto. En cualquier caso, <a href="http://www.imdb.com/name/nm1010540/">Terrence Winter</a> ha hecho un estupendo trabajo. En las siguientes líneas <strong>ofrezco mi opinión, libre de criterio o sentido alguno</strong>.</p>
<p><img src="../../img/wp/Boardwalk-Empire-03.jpg" alt="Boardwalk-Empire-03.jpg"></p>
<h3 id="crimen-durante-la-ley-seca">Crimen durante la Ley Seca</h3>
<p><strong>Boardwalk Empire está ambientada en la Atlantic City de los años 20</strong>, época de la <em><a href="http://es.wikipedia.org/wiki/Ley_seca">&ldquo;Ley Seca&rdquo;</a></em>. Se nos presenta un mundo de antiguas costumbres <strong>corrupto hasta la médula</strong>. Un favor por aquí, un fajo de billetes por allá, ahora un ajustes de cuentas y luego unas partidas en el casino. Ya saben, las cosas que hacen los mafiosos para poner un plato sobre la mesa. Por encima <strong>destaca el político Enoch Thompson,</strong> alias Nucky encarnado por un espectacular <a href="http://www.imdb.com/name/nm0000114/">Steve Buscemi</a>. Básicamente nos cuenta la historia de los trapicheos y los conflictos de poder entre gremios del crimen organizado. Por supuesto, aderezado con una buena ración de burdeles a cascoporro.</p>
<p><img src="../../img/wp/Boardwalk-Empire-02.jpg" alt="Boardwalk-Empire-02.jpg"></p>
<h3 id="cabarets-fiestas-y-políticos">Cabarets, fiestas y políticos</h3>
<p>No se puede decir que sea una serie de acción en la que la tensión se mantenga en lo más alto durante cada minuto. <strong>Muchos le achacan que es demasiado lenta</strong> y podrían tener razón. No obstante, la ambientación y las interpretaciones absorben casi toda la responsabilidad. ¡Ojo! Sin que se les arrugue la camisa para la fiesta en el cabaret, oiga.</p>
<p><strong>El mundo del alcohol, el politiqueo, la dialéctica y las apariencias</strong> aparece reflejado constantemente. Decir <em>&ldquo;lo siento cariño, esta noche llegaré tarde porque tengo asuntos de negocios&rdquo;</em> para acabar en un burdel mientras se cierra el acuerdo es el procedimiento habitual. Boardwalk Empire <strong>hace caso omiso de los tabús</strong> sin llegar a blandir lo explícito como arma. Se abre ante el espectador un mundo de matices que cobra vida y se llena de luces de neón durante la noche. Queda patente que nadie tiene una integridad inquebrantable.</p>
<p>De la mano de Steve Buscemi y la mayoría del reparto presenciaremos un <strong>magnífico despliegue de interpretaciones</strong>. Actuaciones creíbles que crean una atmósfera densa, de una tensión palpable. Sin duda, merece la pena.</p>
<p><img src="../../img/wp/Boardwalk-Empire-01.jpg" alt="Boardwalk-Empire-01.jpg"></p>
<h3 id="damas-y-caballeros-aún-hay-más">Damas y caballeros, aún hay más</h3>
<p>Como muchos sabréis, HBO ha confirmado una <strong>segunda temporada</strong> de Boardwalk Empire ante su buena acogida. La serie fue nominada a un Globo de Oro por mejor serie dramática entre otros galardones. ¿Me he quedado con ganas de más? Sin duda, aunque necesito digerirla un poco antes de una nueva temporada, me vendrá bien el descanso. Si estáis dispuestos a sentaros pacientemente y disfrutar de un buen guión, adelante, es una producción con <em>&ldquo;qualité&rdquo;</em>.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/movimiento-relativo-a-la-camara/">Movimiento relativo a la cámara</a>
      </h1>
      <span class="post-date">Dec 26, 2010 &middot; 5 minute read &middot; <a href="https://saltares.com/games/movimiento-relativo-a-la-camara/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p><img src="../../img/wp/movimiento-camara.png" alt="movimiento-camara.png"></p>
<p>En la mayoría de videojuegos en tercera persona, <strong>la dirección hacia la que se mueve el personaje depende de la orientación de la cámara</strong>. A pesar de que Sion Tower es un tower defense, controlamos a un personaje en tercera persona y, por tanto, debía incorporar este sistema. Estos días he estado exprimiendo los sesos para implementar dicho movimiento. ¡Por fin! Tras decenas de diagramas con vectores, ángulos y sistemas de coordenadas, lo he conseguido. En este artículo <strong>explico un sencillo algoritmo para conseguirlo</strong>.</p>
<h3 id="qué-queremos-conseguir">¿Qué queremos conseguir?</h3>
<p>El siguiente diagrama muestra el <strong>sistema de coordenadas de Ogre</strong>. Imaginad que nuestro personaje se encuentra en el origen <em>p = (0, 0, 0)</em> y que la cámara está en el <em>c = (0, 0, 50)</em> mirando hacia el origen. Nuestras teclas de movimiento son las clásicas: WASD. Al pulsar W el personaje debe moverse en la dirección negativa del eje Z, en cambio, si pulsamos D deberá hacerlo en la dirección positiva del eje X.</p>
<p>En cambio, si la cámara se situase en <em>c = (50, 0, 0)</em> mirando a <em>(0, 0, 0)</em> las teclas no tendrían el mismo efecto en términos absolutos, aunque se mantiene idéntico si tomamos como punto de referencia a la cámara. Si pulsamos W el personaje se desplazará en la dirección negativa del eje X. En el caso de que pulsemos D, el personaje se dirigirá en la dirección negativa del eje Z.</p>
<p><img src="../../img/wp/coordenadas.png" alt="coordenadas.png"></p>
<p>Por supuesto, <strong>el personaje deberá girarse</strong> para mirar hacia la dirección del desplazamiento. A continuación, detallamos la manera de implementar este sistema de movimiento.</p>
<h3 id="algoritmo-objetos-implicados">Algoritmo: objetos implicados</h3>
<p>Este pequeño algoritmo está orientado al motor de renderizado Ogre3D y la biblioteca de dispositivos de entrada OIS aunque su filosofía es válida para otras herramientas. Lo ideal sería utilizar clases para el personaje y otros elementos aunque, en esta ocasión, he preferido no hacerlo en favor de la simplicidad del ejemplo.</p>
<p>Partimos de los siguientes objetos:</p>
<pre tabindex="0"><code>Ogre::SceneNode* nodoPersonaje; // Nodo que representa al personaje
Ogre::Vector3 direccionObjetivo; // Relativa a la cámara
Ogre::Vector3 direccionActual; // Relativa a la cámara
Ogre::Vector3 velocidad; // Velocidad del personaje
bool andando; // true si el personaje se está desplazando
OIS::Keyboard* teclado; // Teclado para controlar al personaje
</code></pre><h3 id="algoritmo-desplazamiento-del-personaje">Algoritmo: desplazamiento del personaje</h3>
<p>En cada frame debemos <strong>tomar la dirección de la cámara</strong> y quedarnos con su componente x y z ya que nos movemos en el plano. Esa será nuestra dirección <em>&ldquo;hacia delante&rdquo;</em>. Es muy sencillo obtener la dirección &ldquo;<em>hacia la derecha&rdquo;</em>, simplemente intercambiamos las componentes x y z cambiándole el signo a la z de <em>&ldquo;hacia delante&rdquo;</em>.</p>
<p><strong>La dirección objetivo</strong> de este frame se puede calcular consultando las <strong>pulsaciones de las teclas</strong> y <strong>combinando los dos vectores</strong> anteriores utilizando sumas o restas. Nos podremos mover en 8 direcciones distintas. Por ejemplo, si deseamos dirigirnos hacia atrás a la izquierda tendremos: <em>direccionObjetivo = -delante – derecha</em>. Finalmente, <strong>la dirección objetivo debe ser normalizada</strong>, es decir, que el módulo del vector sea igual a 1. Esto es muy importante si no queremos que la velocidad del personaje se vea alterada. Finalmente, aplicamos el desplazamiento teniendo en cuenta la velocidad, la dirección y el tiempo en milisegundos desde el último frame. Esta técnica se conoce como <strong>LERP</strong> (Linear Interpolation).</p>
<h3 id="algoritmo-orientación-del-personaje">Algoritmo: orientación del personaje</h3>
<p>Sólo nos queda corregir la orientación del personaje para que mire hacia la dirección en la que se desplaza. Ogre pone a nuestra disposición el método <em>Vector3::getRotationTo</em> que, dado un vector nos devuelve el cuaternio a aplicar de forma que tras la rotación quede alineado con el segundo. <strong>Los cuaternios se utilizan para representar rotaciones</strong> en el espacio y están compuestos por un ángulo y un eje (en este caso el y). Si multiplicamos la rotación necesaria por la que ya posee el nodo del personaje, éste mirará hacia donde deseamos. Es importante el orden de los operadores ya que el producto de cuaternios no es conmutativo.</p>
<h3 id="algoritmo-código-completo">Algoritmo: código completo</h3>
<p>He aquí el código completo:</p>
<pre tabindex="0"><code>using namespace Ogre;

void EstadoJuego::actualizarPersonaje(Ogre::Real deltaT) {
    // Tomamos la dirección de la cámara
    Vector3 delante = camara-&gt;getDirection(); 
    delante.y = 0;

    // Vector relativo a la cámara, ortogonal hacia su derecha
    Vector3 derecha(-delante.z, 0, delante.x);

    // Calculamos la dirección objetivo en función de la pulsación de las
    // teclas.
    if (teclado-&gt;isKeyDown(OIS::KC_W) &amp;&amp; teclado-&gt;isKeyDown(OIS::KC_D)) {
        direccionObjetivo = delante + derecha;
        andando = true;
    }
    else if (teclado-&gt;isKeyDown(OIS::KC_W) &amp;&amp; teclado-&gt;isKeyDown(OIS::KC_A)) {
        direccionObjetivo = delante - derecha;
        andando = true;
    }
    else if (teclado-&gt;isKeyDown(OIS::KC_S) &amp;&amp; teclado-&gt;isKeyDown(OIS::KC_D)) {
        direccionObjetivo = -delante + derecha;
        andando = true;
    }
    else if (teclado-&gt;isKeyDown(OIS::KC_S) &amp;&amp; teclado-&gt;isKeyDown(OIS::KC_A)) {
        direccionObjetivo = -delante - derecha;
        andando = true;
    }
    else if (teclado-&gt;isKeyDown(OIS::KC_W)) {
        direccionObjetivo = delante;
        andando = true;
    }
    else if (teclado-&gt;isKeyDown(OIS::KC_S)) {
        direccionObjetivo = -delante;
        andando = true;
    }
    else if (teclado-&gt;isKeyDown(OIS::KC_D)) {
        direccionObjetivo = derecha;
        andando = true;
    } 
    else if (teclado-&gt;isKeyDown(OIS::KC_A)){
        direccionObjetivo = -derecha;
        andando = true;
    }
    else
        andando = false;

    // Normalizamos el vector direccion
    direccionObjetivo.normalise();

    // Si debemos desplazarnos, aplicamos la traslación y calculamos la
    // rotación a aplicar
    if (andando) {
        nodoPersonaje-&gt;translate(velocidad * direccionObjetivo * deltaT,
                                 Node::TS_WORLD);
        if (direccionObjetivo != direccionActual) {
            Quaternion rotacion = direccionActual.getRotationTo(direccionObjetivo,
                                                                Vector3(0, 1, 0));
            Quaternion rotacionActual = nodoPersonaje-&gt;getOrientation()
            nodoPersonaje-&gt;setOrientation(orientacion * rotacionActual);
            direccionActual = direccionObjetivo;
        }
    }
}
</code></pre><h3 id="posibles-mejoras">Posibles mejoras</h3>
<p>Este algoritmo no está pensado para incluirse en un juego completo puesto que debe ser refinado. Sólo tenemos en cuenta la animación externa del personaje (desplazamiento y orientación). El algoritmo se olvida completamente de la animación interna. Si quieres un mejor resultado deberías incluirla (andar, detenerse, etc).</p>
<p>La rotación es brusca, lo ideal sería aplicarla poco a poco de forma que el personaje se girase suavemente. Para hacerlo deberíamos dividir la rotación en partes y aplicar una en cada frame.</p>
<h3 id="referencias">Referencias</h3>
<p>Seguramente quieras consultar fuentes mucho más fiables que yo:</p>
<ul>
<li><em>Game Engine Architecture (Jason Gregory)</em>: libro que cubre todos los aspectos a la hora de desarrollar un motor de juego. Contiene una sección de matemáticas muy bien explicada.</li>
<li><a href="http://en.wikipedia.org/wiki/Lerp_%28computing%29"><em>LERP (Wikipedia)</em></a></li>
<li><a href="http://www.cprogramming.com/tutorial/3d/quaternions.html"><em>Quaternios (Confuted)</em></a>: si esto de los cuaternios te ha sonado a chino te recomiendo que consultes este artículo en el que se hace una pequeña introducción.</li>
<li><a href="http://www.ogre3d.org/docs/api/html/index.html"><em>Documentación oficial de Ogre</em></a>: para obtener más detalles sobre las clases y los métodos empleados.</li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/hobbies/the-humble-indie-bundle-2/">The Humble Indie Bundle 2</a>
      </h1>
      <span class="post-date">Dec 18, 2010 &middot; 2 minute read &middot; <a href="https://saltares.com/hobbies/the-humble-indie-bundle-2/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/hobbies">Hobbies</a>
      </span>
      
      <p><img src="../../img/wp/humble-bundle-2-juegos.jpg" alt="humble-bundle-2-juegos.jpg"></p>
<p><strong><a href="http://www.humblebundle.com/">The Humble Indie Bundle</a> regresó</strong> hace unos días con su segunda entrega. Un pack de 5 juegos independientes que podemos adquirir al precio que fijemos. Vienen libre de protección DRM, compatibles con Windows/Linux/Mac. Es una <strong>iniciativa solidaria</strong>, pues podremos elegir la distribución de nuestro pago entre desarrolladores y ONGs. ¿No lo tienes aún? <strong>¡Ve a comprarlo pedazo de insensato!</strong></p>
<p>Pasemos pues, a comentar los ilustres participantes:</p>
<ul>
<li><a href="http://braid-game.com/"><strong>Braid</strong></a>: el más conocido de los presentes que cosechó un tremendo éxito tanto en X-Box 360 Live Arcade como en PC. Un juego de plataformas en 2D que juega con el tiempo y los puzzles. Destaca su bellísimo apartado artístico con animaciones suaves, efectos de luz cuidados y fondos que parecen acuarelas.</li>
<li><a href="http://www.datarealms.com/"><strong>Cortex Command</strong></a>: encarnamos a un cerebro que controla remotamente a varios robots. Nuestra misión es recolectar la mayor cantidad de oro posible y derrotar a los demás jugadores. Mezcla la simulación física, con la estrategia, la acción y un planteamiento muy original.</li>
<li><a href="http://machinarium.net/demo/"><strong>Machinarium</strong></a>: lo jugué hace cierto tiempo y publiqué <a href="../../hobbies/machinarium-la-belleza-de-lo-artesanal/">aquí</a> mis humildes impresiones. Una aventura gráfica como las que ya no se hacen. Un juego que no necesita palabras para transmitir los sentimientos de un pequeño robot que busca a su novia secuestrada. Tus sesos saltarán por los aires con los puzzles.</li>
<li><a href="http://www.hemispheregames.com/osmos/"><strong>Osmos</strong></a>: un juego pausado y relajante que mezcla música y habilidad. Controlamos a una especie de célula que debe crecer absorbiendo a otras más pequeñas mientras evita ser absorbida por las más grandes.</li>
<li><a href="http://www.puppygames.net/revenge-of-the-titans/"><strong>Revenge of the Titans</strong></a>: juego tower defense ambientado en una invasión alien. Una jugabilidad muy sencilla pero interesante, acompañado de cierto humor y un apartado gráfico original. Desgraciadamente, es al que menos tiempo he podido dedicarle.</li>
</ul>
<p>Creo que es una magnífica oportunidad por varias razones. En primer lugar, apoyaremos a la <a href="http://www.eff.org/">Electronic Frontier Foundation</a> y a <a href="http://www.childsplaycharity.org/">Child&rsquo;s Play Charity</a>. Prestaremos nuestra mano a desarrolladores que trabajan muy duro en una industria de competitividad feroz. <strong>¡Por fin nos quitaremos la carga de conseguir un regalo para el enésimo amigo invisible de la temporada!</strong> Por último, estaremos comprando momentos de ocio de calidad de la buena.</p>
<p>Les dejo que voy a jugar… ¡quiero decir, a trabajar! Quizás dentro de algún tiempo le dedique un artículo completo a una de las 4 joyas restantes.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/iberogre-en-el-i-hackathon-osluca/">IberOgre en el I Hackathon OSLUCA</a>
      </h1>
      <span class="post-date">Dec 17, 2010 &middot; 1 minute read &middot; <a href="https://saltares.com/games/iberogre-en-el-i-hackathon-osluca/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p><img src="../../img/wp/hackathon.jpg" alt="hackathon.jpg"></p>
<p>Durante todo el día de mañana viernes 17 y el próximo lunes 20 de diciembre se celebrará el <strong>I Hackathon en la Universidad de Cádiz</strong> de la mano de la Oficina de Software Libre. Como no podía ser de otra forma, el proyecto IberOgre y Sion Tower estará presente tanto como para buscar colaboradores como para ofrecer mano de obra barata (básicamente gratis).</p>
<p>Pero… <strong>¿qué narices es un hackathon?</strong> Pues es una especie de maratón de desarrollo en el que los participantes presentan sus proyectos junto con una lista de pequeñas tareas pendientes. Durante el transcurso del evento los participantes abordan las tareas por lo que se abre una gran oportunidad para t<strong>rabajar en otros proyectos</strong> (comenzados o completamente nuevos). También entran en juego los <strong>hackamuses</strong>, pequeñas charlas informales al más puro estilo <a href="http://es.wikipedia.org/wiki/BarCamp">BarCamp</a>. Podéis encontrar más información en <a href="http://osl.uca.es/node/1146">la noticia de la página oficial</a> de la OSLUCA.</p>
<p>Es <strong>una grandiosa oportunidad</strong> para abandonar el individualismo por una colaboración activa. Al fin y al cabo será una convivencia en el que se intercambien experiencias y se actúe en equipo. IberOgre y Sion Tower no podían faltar al evento así que mañana estaremos por allí y trabajaremos duro durante todo el fin de semana. Por último, dejo el cartel completo.</p>
<p><img src="../../img/wp/hackathon-cartel.png" alt="hackathon-cartel-211x300.png"></p>

      
    </div>
    
        <div class=pagination>
        <ul class="pagination">
            <li>
                <a href="../../">««</a>
            </li>
            
            <li>
                <a href="../../page/49/">«</a>
            </li>
            
            <li class="active">
                <a href="../../page/50/">50</a>
            </li>
            
            <li>
                <a href="../../page/51/">»</a>
            </li>
            
            <li>
                <a href="../../page/63/">»»</a>
            </li>
        </ul>
    </div>
  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "siondream";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>


<script src="../../js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
<script src="../../js/load-photoswipe.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
</body>
</html>

