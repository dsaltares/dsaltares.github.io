<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.83.1" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>

  <title>David Saltares &middot; David Saltares</title>

  
  <link rel="stylesheet" href="../../css/poole.css">
  <link rel="stylesheet" href="../../css/hyde.css">
  <link rel="stylesheet" href="../../css/poole-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-x.css">
  <link rel="stylesheet" href="../../css/highlight/zenburn.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../touch-icon-144-precomposed.png">
  <link href="../../img/favicon.png" rel="icon">

  
  
  
  <link href="%7balternate%20%7bRSS%20application/rss&#43;xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20https://saltares.com/index.xml%7d" rel="alternate" type="application/rss+xml" title="David Saltares &middot; David Saltares" />

  <meta name="description" content="">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-4440744-3', 'auto');
    ga('send', 'pageview');
  </script>
  

  
  <link rel="canonical" href="https://saltares.com/" itemprop="url" />
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="../../"><img src="../../img/profile.jpg"
             alt="profile-picture" id="profile-img" title="David Saltares"></a>
      <h1><a href="../../">David Saltares</a></h1>
      <p class="lead">Software Development</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="../../">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="../../about">About</a></li>
      
      <li class="sidebar-nav-item"><a href="../../apps-tools">Apps &amp; Tools</a></li>
      
      <li class="sidebar-nav-item"><a href="../../game-jams">Game Jams</a></li>
      
      <li class="sidebar-nav-item"><a href="../../games">Games</a></li>
      
      <li class="sidebar-nav-item"><a href="../../libgdx-cross-platform-game-development-cookbook">Libgdx Cookbook</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="http://github.com/dsaltares"><i class="fa fa-github-square fa-2x"></i></a>
      
      
      <a href="https://www.linkedin.com/in/davidsaltares"><i class="fa fa-linkedin-square fa-2x"></i></a>
      
      
      <a href="http://twitter.com/d_saltares"><i class="fa fa-twitter-square fa-2x"></i></a>
      <a href="https://www.youtube.com/channel/UCw375yUExJOVIEHmvmPFWyg"><i class="fa fa-youtube-square fa-2x"></i></a>
      <a href="../../index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-2x"></i></a>
      </li>
    </ul>

    

    <div class="copyright">
      <p>
        &copy; 2021 David Saltares.<br/>
        Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X.</a><br/>
        Hosted on <a href="https://pages.github.com/">Github Pages</a>.
      </p>
    </div>
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/general/kingston-talk-who-would-have-thought-right/">Kingston talk, who would have thought, right?</a>
      </h1>
      <span class="post-date">Apr 1, 2013 &middot; 2 minute read &middot; <a href="https://saltares.com/general/kingston-talk-who-would-have-thought-right/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/general">General</a>
      </span>
      
      <p><img src="../../img/wp/kingstonuniversity.jpg" alt="kingstonuniversity.jpg"></p>
<p>A few weeks ago I was contacted by an former professor at Kingston University asking whether I was interested in delivering a talk next on next Monday, April the 8th. An offer I gladly accepted.</p>
<p>Who would have thought, huh?</p>
<p>How come? You might ask. Well, just over a year and a half ago <a href="../../general/english-london-here-we-go/">I arrived into Kingston</a>, a little posh south west London borough, as an Erasmus student with the prospect of continuing my MSc in Computing Science. Leaving the crazy international student experience aside, which I got plenty of, the fact that Kingston offered a games course seemed highly appealing. Not to mention that the UK has the third biggest games industry in the world.</p>
<p>Coming from southern Spain, where the games industry is effectively non existent, this had life changing potential.</p>
<p>Oh boy, it really did!</p>
<p><img src="../../img/wp/crytek-uk-office.jpg" alt="crytek-uk-office.jpg"></p>
<p>Barely three months later, <a href="../../general/i-just-got-hired-by-crytek-uk/">I got a job as a junior programmer at the Nottingham based Crytek studio</a>. I didn&rsquo;t start until February though, when the semester was over and the <a href="../../tag/kingston-university-project/">coursework</a> was delivered. As some of you may already know, I&quot;m currently part of the Homefront 2 AI team, which is utterly brilliant.</p>
<p>I cannot express how much I&rsquo;ve learned during the little time I&rsquo;ve been in the games industry working at a triple A studio. However, I&quot;ll do my best next Monday. I&quot;ll be talking about how is to be a programmer at Crytek like and how the hell I ended up where I am today. Something like a v2.0 of what <a href="../../games/talk-how-do-i-get-into-the-games-industry/">I delivered in my home university last November</a>. As you can imagine, going back to where these exciting times started is great and I&quot;m looking forward to it.</p>
<p>Obviously, work on my side projects has been affected by the preparation for this talk. Activity on them shall promptly resume!</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/general/from-google-reader-to-tiny-tiny-rss/">From Google Reader to Tiny Tiny RSS</a>
      </h1>
      <span class="post-date">Mar 24, 2013 &middot; 4 minute read &middot; <a href="https://saltares.com/general/from-google-reader-to-tiny-tiny-rss/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/general">General</a>
      </span>
      
      <p>As all of you surely know, <a href="http://googleblog.blogspot.co.uk/2013/03/a-second-spring-of-cleaning.html">Google Reader is in death row</a> and will be part of history as of June the 1st.</p>
<blockquote>
<p>Booh!</p>
</blockquote>
<h3 id="google-readers-demise">Google Reader&rsquo;s demise</h3>
<p>As usual, the people from the Internet went bananas, so I took the time to film one of them.</p>
<p>Google is evil, they&quot;re fucking us over and so on and so forth. However, the sad truth is, they just wanted to know what you&quot;re interested in so they could provide you with more meaningful advertisement. That&rsquo;s their business after all. You could argue that Reader didn&rsquo;t have any of that, but Google is a massive collection of services that share a common knowledge base. Presumably, RSS had stopped being such a good way of getting to know what someone likes, social media does that now.</p>
<p>Besides, let&rsquo;s face it, people who access the news the way we do are a tiny minority.</p>
<h3 id="looking-for-alternatives-netvibes-and-feedly">Looking for alternatives: Netvibes and Feedly</h3>
<p>So it was time to look for alternatives, I wasn&rsquo;t asking for much.</p>
<ul>
<li><strong>Control of what I read</strong>: none of that, hey we&quot;ll figure out what you like bullshit.</li>
<li><strong>Simple but usable UI</strong>: show me my categories and a way of quickly going through the items in a given category, marking them as read as we go along.</li>
<li><strong>Cross platform</strong>: good syncing back and forth between mobile and desktop.</li>
<li><strong>Offline reading:</strong> call me old school, but I&quot;d like to access my stuff in the most remote of places.</li>
<li><strong>Kind with my data</strong>: after spending some time setting everything up and tidying my feeds, I&quot;d like to be able to pack and take my stuff somewhere else. <a href="http://en.wikipedia.org/wiki/OPML">OPML</a> does it well.</li>
<li><strong>Light weight</strong>: having a super fancy UI is pointless if the application makes your device crawl and cry for help.</li>
</ul>
<p>Okay, maybe I was asking for too much, kill me.</p>
<p>During the past week there&rsquo;s been an avalanche of <em>&ldquo;Alternatives to Google Reader&rdquo;</em> posts.</p>
<blockquote>
<p>What the hell dude? This is one of them!</p>
</blockquote>
<p>Fair enough, but the truth is, I&rsquo;ve been following them and they tend to derive people to services like <a href="http://www.netvibes.com/privatepage/1">Netvibes</a> or <a href="http://www.feedly.com/home">Feedly</a>. Both have seen their user base increase dramatically, to the point of having availability problems. To be completely fair, there&rsquo;s nothing deeply wrong with neither of them. Actually, I&rsquo;ve used Feedly for a few days and it&rsquo;s quite nice, I was even going to stick with it. However, all these were too heavy on the browser. I took a look at <a href="http://theoldreader.com/">The Old Reader</a> whose browser version is very nice but it lacks a phone one.</p>
<p><img src="../../img/wp/feedly.png" alt="feedly.png"></p>
<p>At the end of the day, all of them could shut the whole thing down any time putting me in the same uncomfortable position. First world problems.</p>
<p>I needed to take control.</p>
<h3 id="take-control-with-tiny-tiny-rss">Take control with Tiny Tiny RSS</h3>
<p>Then I discovered <a href="http://tt-rss.org/redmine/projects/tt-rss/wiki">Tiny Tiny RSS</a>, a full blown free and <a href="https://github.com/gothfox/Tiny-Tiny-RSS">open source</a> RSS reader application that you can install in your own hosting. Check its website, you&quot;ll see it pretty much has <a href="http://tt-rss.org/redmine/projects/tt-rss/wiki#Features">every feature you could ask for</a>. It&rsquo;s simple, multi language, multi user and comes with an open source (paid but inexpensive) Android app. It even has plugin and theme support.</p>
<blockquote>
<p>Sweet!</p>
</blockquote>
<p><img src="../../img/wp/tiny-tiny-rss.png" alt="tiny-tiny-rss.png"></p>
<p>Alright, I know not everyone has a hosting of his/her own, although, like I said earlier, people who still go for RSS feeds are a minority anyway, and they tend to be in the blogging world. I don&rsquo;t believe the two sets to be mutually exclusive.</p>
<h3 id="install--config-guide">Install &amp; config guide</h3>
<p>The <a href="http://tt-rss.org/redmine/projects/tt-rss/wiki/InstallationNotes">documentation</a> is good enough but to make things even simpler, I&rsquo;ve written these few simple steps down.</p>
<ul>
<li>Download <a href="https://github.com/gothfox/Tiny-Tiny-RSS/archive/1.7.5.tar.gz">the latest version</a></li>
<li>Upload it to your server, use FTP, SCP or whatever you prefer.</li>
<li>Create a database for tt-rss. It can be either MySQL or PostgreSQL.</li>
<li>Install the SQL schema into your newly created database.</li>
</ul>
<pre><code>[tt-rss]/schema/ttrss_schema_mysql.sql
[tt-rss]/schema/trss_schema_pgsql.sql
</code></pre><ul>
<li>Copy <code>[tt-rss]/config.php-dist</code> to <code>[tt-rss]/config.php</code>.</li>
<li>Go through the file and set the options to match your server. These are the most common ones.</li>
</ul>
<pre><code>define('DB_TYPE', &quot;mysql&quot;); // or mysql
    define('DB_HOST', &quot;localhost&quot;);
    define('DB_USER', &quot;******&quot;);
    define('DB_NAME', &quot;******&quot;);
    define('DB_PASS', &quot;******&quot;);
    define('SELF_URL_PATH', 'http://[yoursite]/tt-rss/');
    define('SINGLE_USER_MODE', false);
</code></pre><ul>
<li>Add this to your server cron to schedule feeds updates with the frequency you prefer.</li>
</ul>
<pre><code>/usr/bin/wget --quiet --output-document=/dev/null &quot;http://[your-tt-rss-url]/backend.php?op=globalUpdateFeeds&amp;daemon=1&quot;
</code></pre><ul>
<li>Login with <code>&lt;admin&gt;</code>/`<!-- raw HTML omitted --> and immediately change your password you fool!</li>
</ul>
<p>Enjoy!</p>
<p><a href="https://play.google.com/store/apps/details?id=org.fox.ttrss&amp;hl=en">The Android version has a trial build</a> and connecting it with your Tiny Tiny RSS instance is dead easy. Type in your URL, username and password. Just make sure you have the external clients option enabled in your settings panel within the webapp.</p>
<p><img src="../../img/wp/tiny-tiny-rss-android.png" alt="tiny-tiny-rss-android"></p>
<p>It&rsquo;s been a week since I set everything up and I couldn&rsquo;t be happier. You can even enable plugins to share articles on various media, use your old Reader keyboard shortcuts or even add <a href="http://tt-rss.org/forum/viewtopic.php?f=22&amp;t=1344">custom CSS to make it look a lot more like your sentenced RSS app</a>.</p>
<p>Given the fact that I already had a hosting, switching to Tiny Tiny RSS was a no brainer and I love it.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/general/lincoln-university-canjam13/">Lincoln University #CanJam13</a>
      </h1>
      <span class="post-date">Mar 16, 2013 &middot; 3 minute read &middot; <a href="https://saltares.com/general/lincoln-university-canjam13/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/general">General</a>
      </span>
      
      <p><img src="../../img/wp/canjam13-1.jpg" alt="canjam13-1.jpg"></p>
<p>Last weekend I went to Lincoln University to attend <a href="https://www.facebook.com/CanJamUK?fref=ts">#CanJam13</a>, a 24h game jam organized by some members of the <a href="http://ulcs.co.uk/Home">Computing Society</a> over there. They kindly asked some people from Crytek and Rockstar to do the judging and provide the students with some advice during the competition. Waking up early during the weekend is never ideal but hey, those students were about to pull an allnighter! It&quot;d have been really inconsiderate not to show up.</p>
<p>I don&rsquo;t regret it a single bit.</p>
<p><img src="../../img/wp/canjam13-3.jpg" alt="canjam13-3.jpg"></p>
<p>The atmosphere was highly inspirational: two games labs full of equipment, a projector with the hilarious <a href="https://twitter.com/search/realtime?q=%23canjam13">#CanJam13 Twitter timeline</a> and a countdown, pizza, loads of caffeine and extreme time management. People worked together in teams of up to four members to deliver something playable that fitted with the theme: Uranium + Madness. Overall, there were around 70 students up for the challenge. I was pleasantly surprised to see many first year students joining the jam using tools like Unity or Game Maker. C#/XNA and C++/SFML were popular choices as well. It struck me hard when I realised I only got to make text adventures and a lame Nintendo DS prototype during my first year as an undergrad student.</p>
<p>Getting things done from the very beginning, that&rsquo;s the spirit.</p>
<p><img src="../../img/wp/canjam13-4.jpg" alt="canjam13-4.jpg"></p>
<p>After talking to the students I also got to have a chat with the organisers, who make a tremendous effort to pull these things off. #CanJam13 was their second edition but they also offer week long jams and all sorts of events. From where I stood, everything was flawless, so kudos! I can tell, from my experience with the Games Development Society we founded back at my home uni, that the time investment needed is huge. Oh, how I wish I had more sweet stuff like that back then.</p>
<p>I already knew <a href="https://twitter.com/tfeltwell">Tom Feltwell</a>&ldquo;s face, a MSc student who works in the school of Computing Science. He <a href="http://games.lincoln.ac.uk/2012/03/crytek-nottingham-presentation/">came to Crytek UK</a> some time ago to deliver a presentation about his awesome work on <a href="http://lincolnredorchestra.blogspot.co.uk/">game metric analysis</a>. I was also pleased to meet <a href="https://twitter.com/OScpp">Olivier Szymanezyk</a>, a PhD student who showed me his impressive crowd simulation. Up to 3K entities walking around an airport with their individual destinations and social groups.</p>
<p>At some point during Sunday morning, the countdown reached the feared zero mark and everyone had to have submitted. I got there just in time for have some food and a pint before the presentations. Obviously the games were simple and rough but don&rsquo;t get me wrong! Delivering interesting games from a design standpoint in under 24h is brutal and there were many good ideas. The organisers told me they were going to send me the links, so I&quot;ll post them as soon as I get them. In the meantime, check this video of one of the games and maybe dig into some of <a href="http://www.youtube.com/user/ComputingSociety">the interviews</a> that were filmed.</p>
<p><img src="../../img/wp/canjam13-2.jpg" alt="canjam13-2.jpg"></p>
<p>Lately, I&rsquo;ve talked about <a href="../../games/new-to-games-just-make-games/">how important to get shit done</a> is and <a href="../../games/ld24-evolution-postmortem/">how game jams can help you to achieve that goal</a>. The students who joined the #CanJam13 were doing just that. Some of them are also taking part in <a href="http://www.onegameamonth.com/">One Game A Month</a>, which is also brave, since they&quot;ll need every time they can get for uni assignments and dissertations.</p>
<p>Hats off!</p>
<p>Undoubtedly, a great experience I&quot;d like to repeat next year if possible.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/populate-your-box2d-world-using-the-libgdx-maps-api/">Populate your Box2D world using the libgdx maps API</a>
      </h1>
      <span class="post-date">Mar 9, 2013 &middot; 7 minute read &middot; <a href="https://saltares.com/games/populate-your-box2d-world-using-the-libgdx-maps-api/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>This text proposes an effective approach to painlessly create static collidable geometry in 2D levels with the help of Box2D and the new libgdx maps API.</p>
<p>All the source code is available for direct download below the post.</p>
<h3 id="new-libgdx-maps-api">New libgdx maps API</h3>
<p>The mighty libgdx library saw itself to yet another addition a couple of weeks ago, <a href="http://www.badlogicgames.com/wordpress/?p=2870">a shiny brand new maps API</a>. Nex and me had been working on it for a while and people seem to be quite happy with it. Actually, by now, loads of folks have contributed too, which is kind of the beauty of open source, isn&rsquo;t it? You might as well read the <a href="http://code.google.com/p/libgdx/wiki/GraphicsTileMaps?ts=1361648294&amp;updated=GraphicsTileMaps">wiki page</a> and check out the <a href="https://code.google.com/p/libgdx/wiki/GraphicsTileMaps?ts=1361648294&amp;updated=GraphicsTileMaps#Examples">sample code</a>, luckily enough, there&rsquo;s plenty which is not always the case.</p>
<p>It primarily focuses on modelling how maps data is represented as well as in providing a way of easily implementing loaders and renderers for specific formats. The API comes with built in loaders and renderers for the <a href="http://www.mapeditor.org/">TMX</a>, <a href="http://tide.codeplex.com/">Tide</a> and <a href="http://gleed2d.codeplex.com/">Gleed</a> formats. However, the latter might be deprecated at some point in the future due its absolute paths horribleness. Believe me, I&rsquo;ve tried to work my way around it but there is just no elegant solution. Although there hasn&rsquo;t been any releases since it&rsquo;s inclusion, it&rsquo;s accessible in the <a href="http://libgdx.badlogicgames.com/nightlies/">nightly builds</a>. For those interested in the implementation, please go to the Github repository.</p>
<p><img src="../../img/wp/maps-api-300x125.png" alt="maps-api-300x125.png"></p>
<p>Take this cutie as an example, <a href="https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/superkoalio/SuperKoalio.java">a minimalistic platformer using the new API</a> in just under 300 lines.</p>
<p><img src="../../img/wp/koalio-300x216.png" alt="koalio-300x216.png"></p>
<p>Enjoy.</p>
<h3 id="use-your-level-editor-to-place-world-physics-geometry">Use your level editor to place world physics geometry</h3>
<p>Let&rsquo;s say you&quot;re working on a 2D game which mechanics require some sort of collision detection. Most likely, you&quot;ll be leveraging an editor such as Tiled or Gleed to boost your level creation process. How are you planning to implement collision detection in a way it doesn&rsquo;t become an excruciating pain in the ass to maintain? Can we also make it efficient, please?</p>
<blockquote>
<p>At last! After all, this is what the article is really about.</p>
</blockquote>
<p>If you&quot;re going for tile based levels, you could add properties to the map to determine tiles walkability, a perfectly valid approach when presented with just a bunch of tiles. However, adding or changing tiles can become tedious really soon. Why don&rsquo;t you take advantage of Box2D collision detection algorithms and <a href="http://en.wikipedia.org/wiki/Space_partitioning">space partitioning</a> techniques? No worries, you could do so regardless of the need of running a real time physics simulation, just create the bodies, move them according to the game logic and query the world for intersections without stepping it. In case of dealing with a physics based game, then, by all means, make full use of Box2D.</p>
<p><img src="../../img/wp/tiled-caveman-300x154.png" alt="tiled-caveman-300x154.png"></p>
<p>I&quot;m going to assume basic knowledge of this popular physics library, if you don&rsquo;t consider yourself minimally familiar with it, please <a href="http://box2d.org/manual.pdf">take some time to get the basics</a>.</p>
<p>Alright, your textures are all set in your level and it looks stunningly beautiful! Sadly, you lack any kind of collision data. A good practice is to create a separate layer named <em>&ldquo;physics&rdquo;</em> or similar for sanity reasons. Now you can start placing shapes (rectangles, circles, polygons or polylines) so they adjust to the non walkable areas. Here&rsquo;s an example in my WIP casual abduction game.</p>
<p><img src="../../img/wp/gleed-abduction-collisions-300x158.png" alt="gleed-abduction-collisions-300x158.png"></p>
<p>As you could have guessed, having thousands of shapes won&rsquo;t do your game&rsquo;s performance any favours. It&quot;d be a good idea to keep the shape count under control while preserving a decent granularity. Ideally, the editor would have a <em>&ldquo;generate physics&rdquo;</em> option that would automatically create collision data from a texture layer using <a href="http://www.imageprocessingplace.com/downloads_V3/root_downloads/tutorials/contour_tracing_Abeer_George_Ghuneim/alg.html">contour tracing</a>. Sadly, that&rsquo;s not the case in the state of the art open source software we have today.</p>
<p>Don&rsquo;t forget to hit <em>&ldquo;save&rdquo;</em>.</p>
<h3 id="create-bodies-from-your-level-data--my-level-has-collidable-static-geometry-data-how-do-i-get-that-in-my-game">Create bodies from your level data &gt; My level has collidable static geometry data, how do I get that in my game?</h3>
<p>To tackle that problem I implemented a simple class named <em>MapBodyManager</em> with the following interface.</p>
<pre><code>public class MapBodyManager {
    public MapBodyManager(World world, int unitsPerPixel, String materialsFile);
    public void createPhysics(Map map, String layerName);
    public void destroyPhysics();
}
</code></pre><p>I believe it to be simple enough but I&quot;ll explain the details just in case. The constructor takes the Box2D world so it knows where to dump the new bodies into and where to delete them from later on. Most level editors work in pixels, while Box2D measures stuff in metres (take that imperial system!), hence the need for the <em>unitsPerPixel</em> conversion rate. We&quot;ll get to the materials stuff in just a minute.</p>
<p>Once your level is loaded, you just need to do this.</p>
<pre><code>MapBodyManager mapBodyManager = new MapBodyManager(world, 1.0f, Gdx.files.internal(&quot;data/materials.json&quot;));
Map map = assetManager.get(&quot;data/level.xml&quot;, Map.class);
mapBodyManager.createPhysics(map, &quot;physics&quot;);
</code></pre><p>This will automatically create a static body per shape in your <em>&ldquo;physics&rdquo;</em> layer as shown in the screenshot below.</p>
<p><img src="../../img/wp/abduction.jpg" alt="abduction.jpg"></p>
<p>So the player heroically beats the level and makes it to the next one. You surely will want to get rid of all those bodies (reference to murder not intended) before adding any more. Interestingly enough, our handy <em>MapBodyManager</em> keeps track of all registered bodies, so voilá, easy as cake.</p>
<pre><code>mapBodyManager.destroyPhysics();
</code></pre><h3 id="material-system">Material system</h3>
<p>Those who are no strangers to Box2D will know that body&rsquo;s fixtures have properties that determine how they interact with other entities. These are mainly: density, restitution and friction. Mass is usually determined by the area of the shape involved and the fixture&rsquo;s density. Again, check out Box2D documentation for more details on this. We could just create all our static bodies with default properties but…</p>
<blockquote>
<p>I want to have icy, sandy and elastic surfaces in my game so characters can slide, be slower and bounce!</p>
</blockquote>
<p>How can our <em>MapBodyManager</em> deal with all this? It&rsquo;s actually dead easy, I went for a very simple material system where each one of these materials are defined by a set of properties in a straightforward JSON file. Let&rsquo;s say that the game world we want to model has regular, ice and elastic elements, we might be able to get away with something such as this.</p>
<pre><code>[
  { &quot;name&quot; : &quot;ice&quot;, &quot;density&quot; : 1.0, &quot;restitution&quot; : 0.0, &quot;friction&quot; : 0.1 },
  { &quot;name&quot; : &quot;elastic&quot;, &quot;density&quot; : 1.0, &quot;restitution&quot; : 0.8, &quot;friction&quot; : 0.8 }
]
</code></pre><p>Assigning materials to elements in our editor is also fairly simple. Add a <em>&ldquo;material&rdquo;</em> custom property per shape you  want to behave in a non default manner. Every editor has its own GUI element for this and all of them are almost identical.</p>
<p><img src="../../img/wp/material.png" alt="material.png"></p>
<p>The <em>MapBodyManager</em> will automatically pick up each shape&rsquo;s material and create bodies with the desired properties. Adding new materials is trivial and, whilst reassigning them is not comfortable, it&rsquo;s not a deal breaker either.</p>
<p>This makes you happy, doesn&rsquo;t it?</p>
<blockquote>
<p>Yay! ### Source code</p>
</blockquote>
<p>Did you read this all or did you just scrolled down after realising you could download the source at the end? If you belong to the first group, I have to say you&quot;re awesome and deserve my most sincere admiration.</p>
<p>Nevertheless, you&quot;ll be very disappointed to see there&rsquo;s no arcane magic going on behind the scenes as the implementation is not shocking in any way. Here it goes for those who are bored enough and wouldn&rsquo;t mind to procrastinate some more by reading a piece useless code.</p>
<p>As promised.</p>
<p><a href="https://github.com/dsaltares/sioncore/blob/master/src/com/siondream/core/physics/MapBodyManager.java">MapBodyManager.java</a></p>
<p>To be honest, I&rsquo;ve only tested this with Gleed created maps and I don&rsquo;t intend to maintain this utility class any further than what I deem necessary to carry on with my projects. The API is homogeneous and should be fully compatible with Tiled and Tide as it is. Worst case scenario, if you bump into problems, the fixes are likely to be simple. Obviously, you&quot;re not forced to use it, feel free to mimic the approach and pick ideas from it, you&quot;ll probably come up with something better after some thought.</p>
<ul>
<li><!-- raw HTML omitted --><strong>Edit 1</strong><!-- raw HTML omitted -->: updated the code to support latest Libgdx API and fixed bugs.</li>
<li><!-- raw HTML omitted --><strong>Edit 2</strong><!-- raw HTML omitted -->: changed materials file format from XML to JSON.</li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/1gam-february-weekly-progress-3/">#1GAM February: weekly progress 3</a>
      </h1>
      <span class="post-date">Feb 26, 2013 &middot; 2 minute read &middot; <a href="https://saltares.com/games/1gam-february-weekly-progress-3/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>It pleases me to say that this past week I&rsquo;ve been able to keep it real and stick to my humble set of tasks:</p>
<p><strong>Victory and defeat mechanic</strong>: the spaceship has a limited amount of energy which diminishes after each collision with the world geometry. Once it&rsquo;s empty, the game enters the defeat state and restarts. If the player manages to abduct all the astronauts in the level, the game goes into the victory state. The whole entity creation – deletion cycle has allowed me to spot some bugs and flaws in the entity system design, which is good.</p>
<p><strong>Placeholder HUD</strong>: I&rsquo;ve used the simple and yet powerful libgdx scene 2D elements to compose a minimalistic HUD which shows remaining astronauts, spaceship energy and elapsed time. Relax, it won&rsquo;t look this bad forever as the assets will be replaced by the final art in due time. I just wanted to get something functional.</p>
<p><strong>Improved control and abduction system</strong>: this is where I&rsquo;ve put most of the effort. Speed limits, collision restitution, impulses and so on have all been tweaked to make the spaceship control feel good. Luckily enough, I&rsquo;ve made it a lot smoother and pleasant, which was paramount to make the game fun. However, beware! For abducting all the astronauts shall not be an easy task.</p>
<p><img src="../../img/wp/abduction.jpg" alt="abduction.jpg"></p>
<p>This week I&quot;ll be working on:</p>
<ul>
<li>Refucktoring: some modules need a small cleanup.</li>
<li>Animated toasts: adding some effects for victory, defeat, abduction and collision situations.</li>
<li>Level system with locked/unlocked levels.</li>
</ul>

      
    </div>
    
        <div class=pagination>
        <ul class="pagination">
            <li>
                <a href="../../">««</a>
            </li>
            
            <li>
                <a href="../../page/20/">«</a>
            </li>
            
            <li class="active">
                <a href="../../page/21/">21</a>
            </li>
            
            <li>
                <a href="../../page/22/">»</a>
            </li>
            
            <li>
                <a href="../../page/61/">»»</a>
            </li>
        </ul>
    </div>
  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "siondream";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>


<script src="../../js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="../../js/load-photoswipe.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
</body>
</html>

