<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.94.1" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>David Saltares &middot; Engineering Leadership &amp; Software Development</title>

  
  <link rel="stylesheet" href="../../css/poole.css">
  <link rel="stylesheet" href="../../css/hyde.css">
  <link rel="stylesheet" href="../../css/poole-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-overrides.css">
  <link rel="stylesheet" href="../../css/hyde-x.css">
  <link rel="stylesheet" href="../../css/highlight/github-dark-dimmed.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../touch-icon-144-precomposed.png">
  <link href="../../img/favicon.png" rel="icon">

  
  
  
  <link href="%7balternate%20%7bRSS%20application/rss&#43;xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20https://saltares.com/index.xml%7d" rel="alternate" type="application/rss+xml" title="David Saltares &middot; David Saltares" />

  <meta name="description" content="I am David and I write about engineering leadership, remote teams, software development and games development.">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-4440744-3', 'auto');
    ga('send', 'pageview');
  </script>
  

  

  
  <link rel="canonical" href="https://saltares.com/" itemprop="url" />
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="../../"><img src="../../img/profile.jpg"
             alt="profile-picture" id="profile-img" title="David Saltares"></a>
      <h1><a href="../../">David Saltares</a></h1>
      <p class="lead">Engineering Leadership &amp; Software Development</p>
      <div class="subscribe"><a href="https://tinyletter.com/dsaltares/">✉️ Subscribe</a></div>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="../../">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="../../about">About</a></li>
      
      <li class="sidebar-nav-item"><a href="../../apps-tools">Apps &amp; Tools</a></li>
      
      <li class="sidebar-nav-item"><a href="../../game-jams">Game Jams</a></li>
      
      <li class="sidebar-nav-item"><a href="../../games">Games</a></li>
      
      <li class="sidebar-nav-item"><a href="../../libgdx-cross-platform-game-development-cookbook">Libgdx Cookbook</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a aria-label="Github profile" href="http://github.com/dsaltares"><i class="fa fa-github-square fa-2x"></i></a>
      
      
      <a aria-label="LinkedIn profile" href="https://www.linkedin.com/in/davidsaltares"><i class="fa fa-linkedin-square fa-2x"></i></a>
      
      
      <a aria-label="Twitter profile" href="http://twitter.com/d_saltares"><i class="fa fa-twitter-square fa-2x"></i></a>
      
      <a aria-label="RSS" href="../../index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-2x"></i></a>
      </li>
    </ul>

    

    <div class="copyright">
      <p>&copy; 2022 David Saltares.</p>
    </div>
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/about-epic-dropping-uscript/">About Epic dropping UScript</a>
      </h1>
      <span class="post-date">Jul 15, 2013 &middot; 3 minute read &middot; <a href="https://saltares.com/games/about-epic-dropping-uscript/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>
  <img src="../../img/wp/6686_Tim-Sweeney-engine.jpg" alt="6686_Tim-Sweeney-engine.jpg">

</p>
<p>Last week I went to <a href="https://www.google.co.uk/search?safe=off&amp;output=search&amp;sclient=psy-ab&amp;q=develop%20brighton&amp;oq=&amp;gs_l=&amp;pbx=1&amp;bav=on.2,or.r_cp.r_qf.&amp;bvm=bv.48705608,d.d2k&amp;biw=1097&amp;bih=541&amp;ion=1&amp;pf=p&amp;pdl=300&amp;emsg=NCSR&amp;noj=1&amp;ei=HXnkUbHZBqe_0QXKroHYAw">Develop in Brighton</a> with work, had a great time and attended talks full of insight, so lucky me! While that might very well be a whole post on its own, I want to focus on <a href="http://en.wikipedia.org/wiki/Tim_Sweeney_(game_developer)">Tim Sweeney</a>&ldquo;s interview on the past and future of Unreal Engine and Epic Games. More specifically, on the fact that they&quot;ll be dropping their widely used <a href="http://en.wikipedia.org/wiki/UnrealScript">scripting language</a> entirely towards Unreal 4. Programmers will work exclusively with C++.</p>
<blockquote>
<p>Hang on, what?! I&rsquo;ve been trying so hard to master it cause I heard it&quot;d get me a job in the industry… Now what?</p>
</blockquote>
<p>That&rsquo;s exactly my point.</p>
<p>So many people, mostly games students, tend to focus way too much on proprietary technologies arguing a high demand for them within the industry. Today, the cool kid in the block is mostly Unity but Unreal also gets a piece of the cake. As much as that may be true at this point in time, it&rsquo;s a very dangerous long term investment. Please be aware that my argument doesn&rsquo;t apply if you&quot;re all about the fun of making games. If so, by all means, use whatever makes you happy.</p>
<p>Don&rsquo;t get me wrong, learning a cool engine is always useful. Quick prototyping and discovering real life workflows are, indeed, great perks. Nevertheless, restricting yourself can backfire big time. Those who didn&rsquo;t become good enough at C++ while they were playing around with the Unity scene editor, will have a much harder time getting a job once the company behind their fancy engine goes bankrupt or simply stops being popular.</p>
<p>As long as you&quot;re fluent using common data structures, know how a computer memory works, understand the concepts behind algorithmic complexity (big O) and are able to write clean, fast C++ code you&quot;ll be absolutely fine. Those skills are a must have in the games industry and even more so in AAA territory.</p>
<p>Are you comfortable with pointers? What about bit shifting? Avoiding string compares? Preventing memory leaks?</p>
<blockquote>
<p>But loads of small and medium sized companies use Unity!</p>
</blockquote>
<p>Companies want you to adapt quickly to their way of doing things and you&quot;ll become a much more versatile programmer by being decent at a low level language. Switching from C++ to C# is relatively easy while the opposite can quickly become an awful nightmare. Hey, you can always prove you&quot;re an amazingly fast learner by adding a scripting based project to your portfolio.</p>
<p>Don&rsquo;t let modern shininess blind you. C++ will continue to be the most widely used language for games programming in the foreseeable future. Cool stuff will show up, but it might not be there tomorrow, don&rsquo;t bet everything on the same runner.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/exploit-tileds-command-tool/">Exploit Tiled&#39;s command tool</a>
      </h1>
      <span class="post-date">Jun 30, 2013 &middot; 4 minute read &middot; <a href="https://saltares.com/games/exploit-tileds-command-tool/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>
  <img src="../../img/wp/tiled.png" alt="tiled.png">

</p>
<p>Most of my spare time for the last month or so has gone to an Android pet project, which partially explains the lack of activity around here. However, such project gave me a little idea for a short tutorial flavoured article.</p>
<h3 id="level-design-practically-a-synonym-of-iteration">Level design, practically a synonym of iteration</h3>
<p>Everybody knows how essential iteration is for games development. Ideas tend to look awesome on paper, yet most of them perform poorly when implemented. Throwing away whole features and reworking others surely isn&rsquo;t new territory for you. Level designers probably know this better than anyone. Creating a <a href="http://www.youtube.com/watch?v=HNctAEfR97A">greybox level</a> and making hundreds of changes until it flows nicely and artist can know for sure where everything is going to be.</p>
<p>Tools like <a href="http://www.crydev.net/index.php">CryEngine SandBox</a> allow lightning fast iteration by letting the creator jump into game straight from the editor to test setups. The change something and test it cycle flows incredibly nicely and no time is wasted with annoying loading screens.</p>
<p>
  <img src="../../img/wp/CryENGINE-inital-scene.jpg" alt="CryENGINE-inital-scene.jpg">

</p>
<h3 id="iteration-can-be-cumbersome">Iteration can be cumbersome</h3>
<p>Nevertheless, I&quot;m using <a href="http://libgdx.badlogicgames.com/">libgdx</a> (check out the new website) along <a href="http://www.mapeditor.org/">Tiled</a> to make this pet project and things are different under this environment. Normally, one would go through the following process:</p>
<ul>
<li>Create a level with Tiled.</li>
<li>Add it to the list of levels in the game. This could involve changed in an XML file or, much worse, fiddling with the source code.</li>
<li>Launch the game and navigate the menus until you find the newly created level.</li>
<li>Finally test it.</li>
<li><em>&ldquo;Oh, I need to move this obstacle a bit to the left&rdquo;</em>.</li>
<li>Back to 1, not before wishing to be stabbed in the face.</li>
</ul>
<p>You might think this is acceptable if a single iteration takes less than half a minute.</p>
<p>Wrong!</p>
<p>You&quot;ll be doing this a ridiculous number of times, so you better do yourself a favor and try shorten the process.</p>
<h3 id="tiled-command-tool-at-your-service">Tiled command tool at your service</h3>
<p>Luckily enough, we can use Tiled to execute any command passing the map file we&quot;re currently editing as a parameter from its main UI panel, it&rsquo;s almost as good as what CryEngine does. It only requires a little effort on our side, as the game needs to accept command line parameters and interpret them, we&quot;ll get to that later.</p>
<p>First, click on the gears icon in Tiled and then select <em>Edit Commands</em>. Create a new one and name it <em>Run level</em> for instance. The command will be executed from the Tiled folder, Program Files in my case. That&rsquo;s why I&quot;m using absolute paths to reach my game&rsquo;s executable.</p>
<pre tabindex="0"><code>java -jar E:projectsmathmazemath.jar %mapfile
</code></pre><p>
  <img src="../../img/wp/tiled-command.png" alt="tiled-command.png">

</p>
<p>The <em>%mapfile</em> string is replaced by the absolute path to our level when the command is executed.</p>
<p>Now it&rsquo;s time to make the game accept an absolute path as a parameter and load a specific level when that happens, without going through all the menus. In my case I did something similar to this.</p>
<pre tabindex="0"><code>public class Main {
	public static void main(String[] args) {
		String level =  args.length &gt; 0 ? args[0] : &#34;&#34;;
		new LwjglApplication(new MyGame(level), new LwjglApplicationConfiguration());
	}
}
</code></pre><p>Then, in <em>MyGame</em> create method.</p>
<pre tabindex="0"><code>if (!mapFile.empty() {
	Level level = new Level(mapFile);
	gameScreen.setLevel(level);
	gameScreen.setDebug(true);
	setScreen(gameScreen);
}
else {
	setScreen(splashScreen);	
}
</code></pre><p>Within <em>GameScreen</em> I had to detect whether we were in debug mode and, if so, think of the level as an absolute path.</p>
<pre tabindex="0"><code>if (isDebug()) {
	mapLoader = new TmxMapLoader(new AbsoluteFileHandleResolver());
}
else {
	mapLoader = new TmxMapLoader();
}

TiledMap map = mapLoader.load(getLevel());
</code></pre><p>I noticed that libgdx doesn&rsquo;t include an absolute path file handle resolver, so I created it. Otherwise, it&quot;d think the file path is of the relative kind.</p>
<pre tabindex="0"><code>public class AbsoluteFileHandleResolver implements FileHandleResolver {
	@Override
	public FileHandle resolve(String fileName) {
		return Gdx.files.absolute(fileName);
	}
}
</code></pre><p>The last step was to export the game as a runnable jar to make it accessible from Tiled. After this, we can now finally run our level directly just by clicking on the gears icon. It requires some initial investment but I can assure you it pays off.</p>
<p>Easy as pie and fast!</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/freegemas-cloned-in-google-play-4-times/">Freegemas cloned in Google Play. 4 times</a>
      </h1>
      <span class="post-date">May 26, 2013 &middot; 6 minute read &middot; <a href="https://saltares.com/games/freegemas-cloned-in-google-play-4-times/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>
  <img src="../../img/freegemas/freegemas-banner.png" alt="banner-blog.png">

</p>
<p>That I know of…</p>
<p>For those who don&rsquo;t know, <a href="../../games/freegemas-for-android-and-html5/" title="Freegemas libgdx">Freegemas</a> was my first <a href="http://libgdx.badlogicgames.com/">libgdx</a> project, which I made in a couple of weeks to learn how to use the framework. Actually, I&quot;m not to take the credit as it&rsquo;s a silly Java/libgdx port of a game made by an university mate, <a href="http://josetomastocino.com/">José Tomás Tocino</a>. Freegemas was originally <a href="https://code.google.com/p/freegemas/">written in C++ using Gosu</a> and both versions were <a href="https://code.google.com/p/freegemas-libgdx/">open sourced under the GPL license</a>.</p>
<p>Both are non profit games and are clearly inspired in the successful Bejeweled.</p>
<p>Freegemas added Android and <a href="freegemas">HTML5</a> to the list of supported platforms and was published on <a href="https://play.google.com/store/apps/details?id=com.siondream.freegemas">Google Play</a> as a free app over a year ago.</p>
<p>
  <img src="../../img/freegemas/freegemas-02.png" alt="javaw-2012-04-18-08-45-49-21-1024x576.png">

</p>
<h3 id="freegemas-clone-wars">Freegemas Clone wars</h3>
<p>Last week I got an email from an Android developer reporting that Freegemas libgdx had been ripped by a different developer called <a href="https://plus.google.com/100071464175146489197">Barrilete Cósmico</a>. The allegedly offending app was Candy Time Crush, whose name, absent doubt, comes after the popular Facebook game.</p>
<p>
  <img src="../../img/wp/candy-time-crush.png" alt="candy-time-crush.png">

</p>
<p>Indeed, this Candy thing was a 1:1 Freegemas clone only changing two elements, he changed the textures and added a shitload of aggressive adverts. Just look at the required permissions to get the extent of it.</p>
<ul>
<li>Full network access – Fair enough for basic ads.</li>
<li>Phone calls – Why? The original doesn&rsquo;t need it.</li>
<li>Storage – Legit to read assets from memory.</li>
<li>Install shortcuts without user intervention – I&quot;m sorry, WHAT?</li>
</ul>
<p>I proceeded to download this Freegemas mutation to make absolutely sure the app had profitability as main purpose and oh boy it did! Shit started to pop up all over the place deeming the game unplayable. I closed it immediately only to see a few new shortcuts linking to dubious products on my dashboard. Enough is enough.</p>
<p>But why not let other users give their opinions? You could argue I&quot;m quite biased and since they come in all sorts of flavors, here they are.</p>
<p>From the self explanatory and verbose.</p>
<blockquote>
<p><strong>Emma Cheneler</strong>: It crashed my mob had to take battery out to even switch mob off. Bad bad bad.</p>
</blockquote>
<blockquote>
<p><strong>Helen Shaw</strong>: crashed. rebooted and messed up my phone all before i got to play the game…. DOn&rsquo;t DOWNLOAD…..</p>
</blockquote>
<p>To the plain and simple.</p>
<blockquote>
<p><strong>Anthony Hernandez</strong>: Hate it!!.</p>
</blockquote>
<p>Ironically, the joke&rsquo;s on my because Candy Time Crush is a clone of my our own game. I&quot;m perfectly aware of the limitations and scope of Freegemas. It was made in under 2 weeks after work for $deity&rsquo;s sake! However, our pet project is free, has no ads and its code has helped other people learn about libgdx since it was featured in the framework&rsquo;s documentation.</p>
<p>Oh, and it doesn&rsquo;t make your phone crash.</p>
<p>When I checked Barrilete Cósmico&rsquo;s (license offender) Google Play panel I was completely astonished. Candy Time Crush was not the only Freegemas clone, there were a total of four of them. It&rsquo;s ridiculous! My surprise spiked even more when I realised the download count was over 500K in aggregate, and all those apps featured the same kind of ads. What the hell?</p>
<p>
  <img src="../../img/wp/farm-time-hero.png" alt="farm-time-hero-300x145.png">

</p>
<h3 id="of-the-gpl-license">Of the GPL license</h3>
<p>I wanted to clarify some of the <a href="http://www.gnu.org/licenses/gpl-3.0.html">details of GPL</a> to illustrate why this is a shameless trespass of the license. The relevant portion is that you can copy, modify and redistribute the software as long as you make the new version available under a compatible license. And that&rsquo;s the essence of it.</p>
<p>Taking someone else&rsquo;s GPL code and redistributing it with minor changes for profit without crediting the original authors could easily be flagged as unethical. Nevertheless, that&rsquo;s legally irrelevant. What matters is that it&rsquo;s perfectly legal when the developer makes the code open source the code as well.</p>
<p>That&rsquo;s fine with me. Hell! It was us who went for this license in the first place.</p>
<p>Unsurprisingly, this guy did no such thing.</p>
<h3 id="reactions">Reactions</h3>
<p>After discussing it with the Freegemas original author we decided to file a <a href="https://support.google.com/bin/static.py?hl=en&amp;ts=1114905&amp;page=ts.cs">copyright infringement report</a> and send it to Google with little hope they&quot;d answer. I also emailed the author explaining the situation and listing his options.</p>
<ul>
<li>Remove all the clones from Google Play.</li>
<li>Make their source code available under GPL.</li>
<li>Get to a commercial agreement with us to split advertisement revenue.</li>
</ul>
<p>We knew the latter wasn&rsquo;t going to happen and we wouldn&rsquo;t be very happy to be a part of all that aggressive advertising anyway. Personally, I don&rsquo;t think Freegemas should have those pretensions, it&rsquo;s too simple of a game, a two week tiny hack project with educational purposes.</p>
<p>He got back to me in roughly ten minutes saying he was sorry and that he was unaware of the illegality of his actions and that he took our game just to learn the ads process. He said he had ceased distribution of all four games. Well, that was fast.</p>
<p>On a side note, no one makes four identical games <em>&ldquo;just to learn&rdquo;</em>.</p>
<p>I was surprised to see Google&rsquo;s response to the complaint just a couple of days later. Obviously the games had been removed so the links weren&rsquo;t working anymore. I said everything was fine now and that the process didn&rsquo;t need to carry on.</p>
<p>End of story.</p>
<p>Well, not really.</p>
<p>Today I realised the developer changed his name to <a href="https://play.google.com/store/apps/developer?id=CCM">CCM</a> and <a href="https://play.google.com/store/apps/details?id=com.rotember.candytime">Candy Time Crush</a> is still listed among his published applications. However, the description mentions Freegemas as base for this game and adds the following note.</p>
<blockquote>
<p>Licence GNU GPLv3, source code available on demand.</p>
</blockquote>
<p>Apparently that makes it comply with GPL v3 even though it sounds quite cheeky. Well nothing left to do here.</p>
<h3 id="morale-of-the-story">Morale of the story</h3>
<p>It would be sad to think of the morale to be that working on open source projects is a bad thing or a waste of time. There&rsquo;s always going to be people who try to take credit for the work of others, regardless of the context.</p>
<p>I love open source because it helps me broaden and enhance my skill set, it&rsquo;s good practice. Working in community is an enriching experience and most of the time I don&rsquo;t have monetisation pretensions at all. Open source and commercial software are two perfectly compatible concepts anyway. Take a look at the libgdx community, there are many developers who have paid sucessful software in the market whilst contributing back all the time. <a href="https://github.com/NathanSweet">Nathan</a> and <a href="http://esotericsoftware.com/">Spine</a> are a great example with his <a href="https://code.google.com/p/libgdx/wiki/scene2dui">Scene2D UI system</a>.</p>
<p>The conclusion here would be that there&rsquo;s a big need to raise awareness towards what software licenses mean, let alone the necessity of ethics in this field. On our end, we need to make sure the implications of the license our code is published under are perfectly clear and in a visible place.</p>
<p>Thanks to the fellow developer who reported this.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/ludum-dare-26-results/">Ludum Dare #26: Results</a>
      </h1>
      <span class="post-date">May 21, 2013 &middot; 2 minute read &middot; <a href="https://saltares.com/games/ludum-dare-26-results/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>
  <img src="../../img/wp/Ludum-Dare.jpg" alt="Ludum-Dare-featured-image-thumb-478x222-3939-300x139.jpg">

</p>
<p>Very early this morning, and after 20 days of voting, <a href="http://www.ludumdare.com/compo/2013/05/20/ludum-dare-26-results/">Ludum Dare #26 came to an end</a>, giving way to the much anticipated final results.</p>
<h3 id="how-did-i-do">How did I do?</h3>
<p>Without further ado, these are the scores for <a href="../../game-jams/lightbyrinth/">Lightbyrinth</a> compared to those of my previous entry.</p>
<div style="width: 550px;">
<table class=" table table-hover">
<tbody>
<tr>
<td>Category</td>
<td>Position</td>
<td>Percentile (2346 entries)</td>
<td>Score</td>
<td>Compared to #LD24</td>
</tr>
<tr>
<td>Graphics</td>
<td>#242</td>
<td>90%</td>
<td>3.57/5.00</td>
<td>-7.03%</td>
</tr>
<tr>
<td>Mood</td>
<td>#326</td>
<td>87%</td>
<td>3.18/5.00</td>
<td>+19.10%</td>
</tr>
<tr>
<td>Audio</td>
<td>#400</td>
<td>83%</td>
<td>2.97/5.00</td>
<td>+10.02%</td>
</tr>
<tr>
<td>Overall</td>
<td>#457</td>
<td>81%</td>
<td>3.26/5.00</td>
<td>+33.06%</td>
</tr>
<tr>
<td>Fun</td>
<td>#485</td>
<td>80%</td>
<td>3.06/5.00</td>
<td>+38.46</td>
</tr>
<tr>
<td>Humor</td>
<td>#670</td>
<td>72%</td>
<td>2.07/5.00</td>
<td>-22.84%</td>
</tr>
<tr>
<td>Innovation</td>
<td>#679</td>
<td>72%</td>
<td>2.97/5.00</td>
<td>+90.38%</td>
</tr>
<tr>
<td>Theme</td>
<td>#956</td>
<td>60%</td>
<td>3.09/5.00</td>
<td>+17.49%</td>
</tr>
</tbody>
</table>
</div>
<p>Despite the obvious room for improvement, I&quot;m quite happy with these results.</p>
<p>Primarily, my performance compared to that of <a href="../../games/ludum-dare-24-results-are-live/" title="Ludum Dare #24 results are live!">#LD24</a> has seen a significant increase in the most relevant categories, Whoooh! This game wasn&rsquo;t supposed to be funny nor have highly polished graphics. My focus was on gameplay and, fortunately, people valued that positively. Actually where are my manners? Thanks everyone who&rsquo;s taken the time to play and rate it, you&quot;re awesome and made me happy.</p>
<p>Secondly and speaking in absolute terms, Lightbyrinth is above average in every single category and among the best 20% in many of them. This strikes me as a great surprise having seen the extremely high standards displayed in this Ludum Dare edition. This is, of course, considering the tight dev time. Moreover, the game has passed the 2.50 milestone in everything but <em>&ldquo;Humor&rdquo;</em>, which is fair enough.</p>
<p>Summary, I&quot;m very pleased but determined to improve my jamming skills toward the next edition. More gameplay and drive to get a right feel.</p>
<h3 id="dont-miss-these">Don&rsquo;t miss these</h3>
<p>I would be an egotistical prick if I didn&rsquo;t point you to those who stand champions of the mighty Ludum Dare #26. Hail to them.</p>
<ul>
<li><a href="http://www.ludumdare.com/compo/ludum-dare-26/?action=top">Top 100 Compo</a></li>
<li><a href="http://www.ludumdare.com/compo/ludum-dare-26/?action=top&amp;cat=Overall(Jam)">Top 100 Jam</a></li>
<li><a href="http://www.ludumdare.com/compo/ludum-dare-26/?more=1">Top 25 per category</a></li>
</ul>
<p>I was also very pleased to learn that <a href="http://www.ludumdare.com/compo/ludum-dare-26/?action=preview&amp;uid=15341">MONO by TimTipGames</a> won in the Overall category. Not only I loved his game but also he used libgdx to make it. <a href="http://www.youtube.com/watch?v=">Bi-winning!</a></p>
<p>
  <img src="../../img/wp/mono.png" alt="mono-300x300.png">

</p>
<p>Seriously, go check it out.</p>
<h3 id="the-community-delivers-once-again">The community delivers once again</h3>
<p>Among the things that make Ludum Dare incredibly awesome, the community stands out. There&rsquo;s people out there that took the time to gather most of the games to make a gigantic trailer. Hats off.</p>
<p>More compilations <a href="http://www.ludumdare.com/compo/2013/05/01/10-second-videos-compilation-project/">here</a>.</p>
<p>See you in the next Ludum Dare!</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://saltares.com/games/managing-groups-of-assets/">Managing groups of Assets</a>
      </h1>
      <span class="post-date">May 12, 2013 &middot; 7 minute read &middot; <a href="https://saltares.com/games/managing-groups-of-assets/#disqus_thread">Comments</a>
      
      <br/>
      <a class="label" href="../../categories/games-development">Games development</a>
      </span>
      
      <p>Games are resource intensive applications in terms of both memory and CPU time. Offtimes it&rsquo;s necessary to render hundreds of different sprites on screen whilst playing and manipulating dozens of sound effects samples. Logically, those assets need to be stored in memory and such precious elixir doesn&rsquo;t come for free.</p>
<p>Fair enough, you can probably afford to brainlessly waste some memory on PC when working on small projects but in the world of mobile devices is just the complete opposite. Not only phones and tablets have limited memory sizes, but theirs is also shared by many hungry apps and fancy background processes. If your app&rsquo;s demands causes everything else to shut down, you&quot;re going to make your users sad.</p>
<p>The sooner you face this, the better. Asset management can be a pain in the arse.</p>
<p>
  <img src="../../img/wp/fuck-this-shit-table-flip.jpg" alt="fuck-this-shit-table-flip-300x271.jpg">

</p>
<p>Throughout this article, I&quot;d like to illustrate some of the challenges one has to face when dealing with many assets within a medium sized project. Later on, I&quot;ll be presenting some classic approaches to finish with one that seems to be working for me quite well. The examples are focused on the <a href="libgdx.badlogicgames.com/">libgdx framework</a>, although the concepts are widely applicable.</p>
<h3 id="the-very-basics">The very basics</h3>
<p>Just to make sure we&quot;re on the same page, these two are the very fundamental items to take into account when managing resources in a game.</p>
<ul>
<li>Don&rsquo;t load things twice. Eg. If you have identical looking sprites, share the texture data and render it as needed.</li>
<li>Don&rsquo;t load anything that you won&rsquo;t need in the near future. Why would you load the final level when the user has just fired up the game for the very first time?</li>
</ul>
<p>Basically, we&quot;re going to try to use the smallest portion of memory we possibly can at a given point in execution.</p>
<h3 id="use-the-assetmanager-luke">Use the AssetManager Luke</h3>
<p>Luckily enough, libgdx provides the splendid <a href="http://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/assets/AssetManager.html">AssetManager</a>, so, for <em>$deity</em>&ldquo;s sake, please don&rsquo;t reinvent the wheel. Are you not using libgdx? Fear not, fellow developer, for most modern libraries feature similar components. Eg. In <a href="http://www.ogre3d.org/tikiwiki/tiki-index.php?page=Basic+knowledge+about+Resources">Ogre3D</a> we have <a href="http://www.ogre3d.org/docs/api/html/classOgre_1_1ResourceGroupManager.html">ResourceGroupManager</a> class.</p>
<p>Take all the time you need to read the correspondent <a href="https://code.google.com/p/libgdx/wiki/AssetManager">wiki page</a> in case you were oblivious to its existence. Long story short, here&rsquo;s what AssetManager can do for you.</p>
<ul>
<li>Store one copy of each asset.</li>
<li>Reference counting.</li>
<li>Inter asset dependencies handling.</li>
<li>Asynchronous asset loading, keeps your app responsive.</li>
<li>Easily extensible, implement your custom loaders for arbitrary types of assets.### The naive approach</li>
</ul>
<p>The most straightforward approach is to use AssetManager to load all your assets upfront and make the manager globally available. That way you&quot;d be able to easily retrieve resources.</p>
<p>
  <img src="../../img/wp/loadalltheassets.jpg" alt="sharememe1348806647-300x225.jpg">

</p>
<pre tabindex="0"><code>public class MyGame extends Game {

	private AssetManager manager;

	@Override
	public void create() {
		super.create()

		manager = new AssetManager();
		loadAssets();
	}

	@Override
	public void dispose() {
		manager.dispose();
	}

	public AssetManager getAssetManager() {
		return manager;
	}

	private void loadAssets() {
		manager.load(&#34;data/player.png&#34;, Texture.class);
		manager.load(&#34;data/enemy.png&#34;, Texture.class);
		manager.load(&#34;data/bullet.png&#34;, Texture.class);
		manager.load(&#34;data/ui/uiskin.json&#34;, Skin.class);

		// ...

		manager.finishLoading();
	}
}
</code></pre><p>While this is a very comfortable thing to do and renders itself valid in most cases, we&quot;re still loading assets that won&rsquo;t be needed right away. Actually this snippet is taken almost as it was in my <a href="../../game-jams/lightbyrinth/">Ludum Dare #26 entry</a>, and it was perfectly fine. It&rsquo;s highly likely for you to get away with this. However, if you want to go the extra mile to achieve maximum performance, you know exactly what can be improved.</p>
<h3 id="slightly-more-advanced-approaches">Slightly more advanced approaches</h3>
<p>We only want to load the resources that will be used at a given time while avoiding being interned in a mental institution. Micromanaging everything is hard work and definitely not worth the headache in almost every situation. One question now arises.</p>
<blockquote>
<p>What&rsquo;s the ideal asset management granularity?</p>
</blockquote>
<p>Obviously, the soft spot will be closely tied to the scope and genre in play but let&rsquo;s list a few possibilities.</p>
<ul>
<li>Everything at a time – Not an option</li>
<li>Menus, levels</li>
<li>Individual menu screen, individual level, all characters</li>
<li>Individual menu screen, individual level, needed characters</li>
<li>Individual menu screen, streaming level chunks, needed characters</li>
<li>…</li>
</ul>
<p>
  <img src="../../img/wp/max-payne-cod.jpg" alt="max-payne-cod.jpg">

</p>
<p>Different games take different paths. On one hand you have Max Payne 3 which loads common assets upfront and then it seamlessly streams the rest as needed. On the other hand we find the Call of Duty example, where there&rsquo;s a load screen masked behind a briefing before each level.</p>
<h3 id="im-a-lazy-bastard-and-that-sounds-like-a-lot-of-work">I&quot;m a lazy bastard and that sounds like a lot of work</h3>
<p>As you can see, it can get mental institution level of crazy in terms of deciding who loads what and when. Retrieving an asset you erroneously thought to be in memory could become an everyday issue. You want to simplify it.</p>
<p>The most annoying thing is to manually load each asset in the appropriate place and to handle the asynchronous process. Then why not gather resources and group them? Loading or freeing up an asset group by a single name would be much easier. I&quot;ll leave the grouping policy entirely up to you to decide as it depends on your needs. However, it seems like the simple way to go is that each game <em>Screen</em> is responsible for loading and unloading its own resource group. If you think it&rsquo;s going to take some time, then it might be appropriate to render a loading screen meanwhile. Moreover, you could have a base group of common assets that will always remain available.</p>
<p>
  <img src="../../img/wp/load-sequence.png" alt="load-sequence.png">

</p>
<p>Taking a data driven approach to group assets is like the cherry on top as it enables you to make adjustments to balance out the workload as you iterate on the process. I started using XML as file format but JSON or similar would also be fit. Here&rsquo;s an example.</p>
<pre tabindex="0"><code>&lt;assets &gt;
	&lt;group name=&#34;base&#34;&gt;
		&lt;asset type=&#34;com.siondream.core.animation.AnimationData&#34; path=&#34;data/caveman.xml&#34; /&gt;
		&lt;asset type=&#34;com.siondream.core.physics.PhysicsData&#34; path=&#34;data/caveman_physics.xml&#34; /&gt;
		&lt;asset type=&#34;com.badlogic.gdx.scenes.scene2d.ui.Skin&#34; path=&#34;data/ui/uiskin.json&#34; /&gt;
	&lt;/group&gt;
&lt;/assets&gt;
</code></pre><p>Qualified types and reflection are used to make the <em>AssetManager#load</em> calls.</p>
<h3 id="grouped-asset-manager-code">Grouped Asset Manager code</h3>
<p>Here&rsquo;s the full implementation for my Asset class. It&rsquo;s kind of a small layer on top of the libgdx AssetManager. Feel free to use it, bin it or change it. However, be advised that I don&rsquo;t plan to offer further continued for it, this is simply to illustrate my approach.</p>
<pre tabindex="0"><code>public class Assets implements Disposable, AssetErrorListener {

	private static final String TAG = &#34;Assets&#34;;
	private Logger logger;
	private AssetManager manager;
	private ObjectMap&lt;String, Array&lt;Asset&gt;&gt; groups;

	public Assets(String assetFile) {
		logger = new Logger(TAG, Logger.INFO);

		manager = new AssetManager();
		manager.setErrorListener(this);
		manager.setLoader(PhysicsData.class, new PhysicsLoader(new InternalFileHandleResolver()));
		manager.setLoader(AnimationData.class, new AnimationLoader(new InternalFileHandleResolver()));

		loadGroups(assetFile);
	}

	public void loadGroup(String groupName) {
		logger.info(&#34;loading group &#34; + groupName);

		Array&lt;Asset&gt; assets = groups.get(groupName, null);

		if (assets != null) {
			for (Asset asset : assets) {
				manager.load(asset.path, asset.type);
			}
		}
		else {
			logger.error(&#34;error loading group &#34; + groupName + &#34;, not found&#34;);
		}
	}

	public void unloadGroup(String groupName) {
		logger.info(&#34;unloading group &#34; + groupName);

		Array&lt;Asset&gt; assets = groups.get(groupName, null);

		if (assets != null) {
			for (Asset asset : assets) {
				if (manager.isLoaded(asset.path, asset.type)) {
					manager.unload(asset.path);
				}
			}
		}
		else {
			logger.error(&#34;error unloading group &#34; + groupName + &#34;, not found&#34;);
		}
	}

	public synchronized &lt;T&gt; T get(String fileName) {
		return manager.get(fileName);
	}

	public synchronized &lt;T&gt; T get(String fileName, Class&lt;T&gt; type) {
		return manager.get(fileName, type);
	}

	public boolean update() {
		return manager.update();
	}

	public void finishLoading() {
		manager.finishLoading();
	}

	public float getProgress() {
		return manager.getProgress();
	}

	@Override
	public void dispose() {
		logger.info(&#34;shutting down&#34;);
		manager.dispose();
	}

	@Override
	public void error(String fileName, Class type, Throwable throwable) {
		logger.error(&#34;error loading &#34; + fileName);
	}

	private void loadGroups(String assetFile) {
		groups = new ObjectMap&lt;String, Array&lt;Asset&gt;&gt;();

		logger.info(&#34;loading file &#34; + assetFile);

		try {
			XmlReader reader = new XmlReader();
			Element root = reader.parse(Gdx.files.internal(assetFile));

			for (Element groupElement : root.getChildrenByName(&#34;group&#34;)) {
				String groupName = groupElement.getAttribute(&#34;name&#34;, &#34;base&#34;);

				if (groups.containsKey(groupName)) {
					logger.error(&#34;group &#34; + groupName + &#34; already exists, skipping&#34;);
					continue;
				}

				logger.info(&#34;registering group &#34; + groupName);

				Array&lt;Asset&gt; assets = new Array&lt;Asset&gt;();

				for (Element assetElement : groupElement.getChildrenByName(&#34;asset&#34;)) {
					assets.add(new Asset(assetElement.getAttribute(&#34;type&#34;, &#34;&#34;),
										 assetElement.getAttribute(&#34;path&#34;, &#34;&#34;)));
				}

				groups.put(groupName, assets);
			}
		}
		catch (Exception e) {
			logger.error(&#34;error loading file &#34; + assetFile + &#34; &#34; + e.getMessage());
		}
	}

	private class Asset {
		public Class&lt;?&gt; type;
		public String path;

		public Asset(String type, String path) {
			try {
				this.type = Class.forName(type);
				this.path = path;
			} catch (ClassNotFoundException e) {
				logger.error(&#34;asset type &#34; + type + &#34; not found&#34;);
			}
		}
	}
}
</code></pre><h3 id="conclusions-and-further-improvements">Conclusions and further improvements</h3>
<p>This small grouped asset manager will do the trick for me. Nevertheless I believe it could be improved in a few ways.</p>
<ul>
<li>JSON format for faster parsing.</li>
<li>Automatically scan asset folders.</li>
<li>Associate file extensions to asset types. * …</li>
</ul>
<p>Anyhow, I hope I made my point of showing some different approaches to asset management along their pros and cons. I&quot;d love to hear your thoughts on the topic, and were you to find yourself disagreeing with me, by all means, share your point of view.</p>

      
    </div>
    
        <div class=pagination>
        <ul class="pagination">
            <li>
                <a href="../../">««</a>
            </li>
            
            <li>
                <a href="../../page/20/">«</a>
            </li>
            
            <li class="active">
                <a href="../../page/21/">21</a>
            </li>
            
            <li>
                <a href="../../page/22/">»</a>
            </li>
            
            <li>
                <a href="../../page/63/">»»</a>
            </li>
        </ul>
    </div>
  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "siondream";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>


<script src="../../js/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
<script src="../../js/load-photoswipe.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
</body>
</html>

