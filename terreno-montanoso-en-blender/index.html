<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/touch-icon-144-precomposed.png"/><title>Terreno montañoso en Blender · David Saltares</title><meta name="robots" content="index,follow"/><meta name="description" content="Engineering Leadership &amp; Software Development"/><meta property="og:title" content="Terreno montañoso en Blender · David Saltares"/><meta property="og:description" content="Engineering Leadership &amp; Software Development"/><meta property="og:url" content="https://saltares.com/terreno-montanoso-en-blender"/><meta property="og:type" content="website"/><link rel="canonical" href="https://saltares.com/terreno-montanoso-en-blender"/><meta name="keywords" content=""/><meta name="next-head-count" content="12"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/d3d4cc303d9c1080.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/d3d4cc303d9c1080.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-7671224c423a1e1f.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-66d32731bdd20e83.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-41a9ee3ebe735abe.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-75760b031d352622.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/c16184b3-5eed107b4bbcea31.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/2cca2479-0d4bcd71a6a0316a.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/252-2454d8293e83336b.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/167-6fe50976be6d0e53.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/962-ea29c7731d832d32.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/373-f5166c707bca4ed3.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-81b48131ea6e98cc.js" defer="" crossorigin=""></script><script src="/_next/static/iFVOTeVL8ui_ck4_acaJ_/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/iFVOTeVL8ui_ck4_acaJ_/_ssgManifest.js" defer="" crossorigin=""></script><style data-href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap">@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79P0Y.woff) format('woff')}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh4Oo.woff) format('woff')}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0-ExcOPIDUg-g.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0aExcOPIDUg-g.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0yExcOPIDUg-g.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0KExcOPIDU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0OOtLR8a8zILig.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0OqtLR8a8zILig.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0OCtLR8a8zILig.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0O6tLR8a8zI.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div class="flex flex-col md:flex-row font-sans text-xl w-full"><aside class="md:max-w-[360px] bg-primary px-10 py-10 text-white text-xl md:fixed md:top-0 md:left-0 md:h-full flex flex-col justify-end items-center md:items-start"><div><a href="/"><div class="mb-5"><img alt="profile picture" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="rounded-full" style="color:transparent" src="/img/profile.webp"/></div><h1 class="text-white font-bold text-4xl leading-10">David Saltares</h1></a></div><p class="text-contentLight text-2xl mb-5 leading-9 text-center md:text-left">Engineering Leadership &amp; Software Development</p><div class="mb-5 font-base"><button class="ml-onclick-form" onclick="ml('show', '646AL4', true)">✉️ Subscribe</button></div><nav><ul class="mb-5 flex flex-col items-center md:items-start list-none pl-0"><li class="leading-7"><a href="/">Blog</a></li><li class="leading-7"><a href="/about-me/">About</a></li><li class="leading-7"><a href="/apps-tools/">Apps &amp; Tools</a></li><li class="leading-7"><a href="/game-jams/">Game Jams</a></li><li class="leading-7"><a href="/games/">Games</a></li><li class="leading-7"><a href="/libgdx-cross-platform-game-development-cookbook/">Libgdx Cookbook</a></li></ul></nav><ul class="mb-5 list-none pl-0"><li class="inline"><a aria-label="Github profile" href="https://github.com/dsaltares"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="square-github" class="svg-inline--fa fa-square-github text-4xl mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></path></svg></a></li><li class="inline"><a aria-label="Linkedin profile" href="https://www.linkedin.com/in/davidsaltares/"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin text-4xl mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li class="inline"><a aria-label="Twitter profile" href="https://twitter.com/dsaltares"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="square-twitter" class="svg-inline--fa fa-square-twitter text-4xl mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path></svg></a></li><li class="inline"><a aria-label="RSS feed" href="https://saltares.com/index.xml"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-rss" class="svg-inline--fa fa-square-rss text-4xl mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM96 136c0-13.3 10.7-24 24-24c137 0 248 111 248 248c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-110.5-89.5-200-200-200c-13.3 0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24c83.9 0 152 68.1 152 152c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-57.4-46.6-104-104-104c-13.3 0-24-10.7-24-24zm64 120c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"></path></svg></a></li><li class="inline"><a rel="me" href="https://fosstodon.org/@dsaltares"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="mastodon" class="svg-inline--fa fa-mastodon text-4xl mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></path></svg></a></li></ul><p class="text-contentLight text-lg">© 2024 David Saltares.</p></aside><div class="md:max-w-[360px] w-full hidden md:block flex-grow-0 flex-shrink-0"></div><div class="flex flex-col main-content"><main class="w-full max-w-[720px] pr-4 py-10 pl-5 md:py-20 md:pl-20"><article class="text-content mb-10"><div><a href="/terreno-montanoso-en-blender/"><h1 class="font-bold text-4xl mb-2 text-primary">Terreno montañoso en Blender</h1></a><p class="flex text-contentLight mb-1">Jul 3 2011 · 6 min read<span> · </span><a class="text-contentLink" href="/terreno-montanoso-en-blender/#disqus_thread">Comments</a></p><div class="mb-3"><div class="flex flex-row gap-1"><a class="px-2 py-1 bg-slate-900 text-white rounded font-bold text-sm" href="/categories/games-development/">Games development</a></div></div></div><p>Me gustaría pedir disculpas por el descenso en el ritmo de publicación, el motivo es muy sencillo: estoy <strong>trabajando de forma intensa en la interfaz de <a class="text-contentLink text-lg" href="/proyectos/sion-tower/">Sion Tower</a></strong>. Para el menú principal he creado un <strong>escenario montañoso</strong> con los enemigos aproximándose a la Torre Sagrada en medio de una intensa lluvia. <strong>Modelar las montañas con Blender</strong> es terriblemente sencillo una vez se conoce la técnica apropiada y aquí vamos a comentarla en detalle.</p>
<h3>Creación de la malla</h3>
<p>Lo primero que debes hacer es abrir Blender y eliminar el cubo por defecto. Utilizaremos una rejilla o malla de vértices para modelar el terreno. El proceso es simple, habrá que modificar la posición <em>Z</em> (vertical) de varios vértices para crear elevaciones. Finalmente, utilizaremos suavizado para evitar los bordes abruptos.</p>
<p>Para <strong>añadir la rejilla</strong> seleccionamos <em>Add → Mesh → Grid</em> e indicamos el número de vértices. A mayor resolución más calidad pero el coste computacional en Blender y en un videojuego crecerá de forma cuadrática. En Sion Tower me ha bastado con <em>50×50</em>, el suavizado final se encargará de mejorar el resultado. Después, en modo edición, debes escalar la rejilla hasta que se ajuste a la escala de tu juego o entorno.</p>
<img class="mb-1" src="/img/wp/blender-grid.webp" alt="blender-grid.jpg"/>
<h3>Modelado de las montañas</h3>
<p>La clave está en utilizar el modo de <strong>edición proporcional</strong> que activamos pulsando la tecla <em>O</em>. Veremos que el modo también puede activarse en la barra de herramientas <em>Proportional – On</em>. Este modo hará que, al modificar un vértice, los vecinos dentro de un radio de acción también se vean ligeramente afectados. Justo al lado establecemos el <em>Falloff</em> a <em>Smooth Falloff</em>. Para activar el suavizado, seleccionamos todos los vértices con <em>A</em> y pulsamos en <em>Set Smooth</em>.</p>
<img class="mb-1" src="/img/wp/blender-elevacion.webp" alt="blender-elevacion.jpg"/>
<p>El proceso a seguir para <strong>crear o modificar elevaciones</strong> es:</p>
<ol>
<li>Seleccionar un vértice con el botón derecho y ajustar el radio de acción con la rueda del ratón a nuestro gusto.</li>
<li>Desplazar el vértice pulsando la tecla <em>G</em>, es importante restringirlo al eje vertical con la tecla <em>Z</em>, de lo contrario se producen efectos extraños.</li>
<li>Repetir el proceso con vértices y radios de acción diferentes hasta conseguir el resultado deseado.</li>
</ol>
<img class="mb-1" src="/img/wp/blender-terrain.webp" alt="blender-terrain.jpg"/>
<p>Recuerda que <strong>las montañas son estructuras naturales</strong> y que, por tanto, muestran multitud de irregularidades. En la asimetría y lo brusco está el secreto.</p>
<h3>Texturizar el terreno</h3>
<p>Continuamos la creación del terreno <strong>añadiendo una textura</strong>:</p>
<ol>
<li>Seleccionamos el terreno, acudimos al panel de materiales (<em>F5</em>) y añadimos un material nuevo.</li>
<li>Las montañas no tienen un aspecto de material plástico, por lo que establecemos su color especular a .</li>
<li>Nos dirigimos al panel de texturas (<em>F6</em>) y añadimos una nueva textura de tipo imagen con césped.</li>
<li>Cargamos la textura de fichero y establecemos las propiedades <em>XRepeat</em> e <em>YRepeat</em> que, como sus propios nombres indican, hacen repetir la textura.</li>
</ol>
<img class="mb-1" src="/img/wp/grass.webp" alt="grass.jpg"/>
<p>Si pulsas <em>F12</em> verás el renderizado de tus montañas y no tardarás de percatarte de dos problemas: la iluminación y… <strong>¡parecen las montañas de los hobbits estando verdes!</strong> En primer lugar, deberás jugar con las fuentes de luz. Ahora nos centraremos en mezclar varias texturas.</p>
<img class="mb-1" src="/img/wp/terrain.webp" alt="terrain.jpg"/>
<h3>Texturas stencil</h3>
<p>Un terreno de corte más realista tiene <strong>varias texturas</strong>: hierba, tierra, rocas o incluso nieve. Las transiciones entre las mismas deben ser suaves y su situación debe ser lógica: la hierba abunda en los valles mientras la roca en los picos montañosos. En esta sección aprenderemos a aplicar varias texturas a nuestro terreno mezclándolas entre sí de manera apropiada.</p>
<p>Imaginad que tendremos una <strong>pila de capas con varias texturas</strong> ordenadas: hierba, roca y nieve. En medio colocaremos dos texturas en escala de grises llamadas stencil que indicarán al sistema de renderizado cómo han de mezclarse las capas entre sí. Un color negro indica que sólo ha de visualizarse la capa superior, blanco significa que sólo se vera la capa inferior. Lo interesante es que un valor intermedio o gris significará que las capas se mezclarán siguiendo la ponderación del color.</p>
<img class="mb-1" src="/img/wp/blender-stencil-3d.webp" alt="blender-stencil-3d.jpg"/>
<p>Seguimos el siguiente proceso:</p>
<ul>
<li>Cambiamos del modo edición al <em>Vertex Paint</em>.</li>
<li>Seleccionamos el panel de edición (<em>F9</em>) y veremos una paleta de colores. Elegimos el color negro y pulsamos sobre <em>set VertCol</em> y la malla quedará completamente negra (se visualizaría la capa inferior).</li>
<li>Elegimos el color blanco y configuramos tanto la opacidad como el tamaño.</li>
<li>Comenzamos a pintar el terreno: los picos deberían ser completamente blancos (roca), las lomas de un tono intermedio y los valles prácticamente negros (hierba).</li>
<li>Cuando estemos satisfechos seleccionaremos la vista <em>Top</em> y el modo de proyección ortográfico. Hemos de hacer una captura de pantalla y aislar la el resultado con cualquier software de edición de imágenes como Gimp.</li>
</ul>
<img class="mb-1" src="/img/wp/blender-stencil.webp" alt="blender-stencil.jpg"/>
<ul>
<li>Volvemos al modo edición y creamos una nueva textura debajo de la hierba de tipo imagen cargando la textura stencil hierba-roca. Esta textura no debe repetirse.</li>
<li>En el panel <em>Map To</em> deseleccionamos <em>Col</em> y activamos <em>Stencil</em> y <em>No RGB</em>.</li>
<li>Creamos una nueva textura para la roca, cargamos la imagen y aplicamos repetición.</li>
</ul>
<img class="mb-1" src="/img/wp/rock.webp" alt="rock.jpg"/>
<img class="mb-1" src="/img/wp/blender-stencil-aplicando.webp" alt="blender-stencil-aplicando.jpg"/>
<p>Si renderizas con <em>F12</em> verás un resultado mucho más satisfactorio.</p>
<img class="mb-1" src="/img/wp/terrain-rock.webp" alt="terrain-rock.jpg"/>
<h3>Resultado final</h3>
<p>Si repites el proceso stencil para añadir una <strong>nueva capa con nieve</strong> el resultado tendrá mucha más calidad:</p>
<img class="mb-1" src="/img/wp/terrain-snow.webp" alt="terrain-snow.jpg"/>
<p>La escena final para el <strong>menú principal de Sion Tower</strong> ha quedado de la siguiente manera:</p>
<img class="mb-1" src="/img/wp/siontower-menu.webp" alt="siontower-menu.jpg"/>
<p><strong>Nota importante</strong>: A la hora de exportar a Ogre el modelo con las texturas stencil he tenido muchos problemas. Al final la solución ha pasado por mezclar yo mismo las capas stencil con las de texturas utilizando Gimp y aplicarlas a la maya utilizando mapeado UV.</p>
<img class="mb-1" src="/img/wp/blender-stencil-precomputado.webp" alt="blender-stencil-precomputado.jpg"/>
<h3>Referencias</h3>
<p>Para realizar el proceso y redactar el artículo he seguido estos dos estupendos tutoriales con varios añadidos personales:</p>
<ul>
<li><a class="text-contentLink text-lg" href="http://en.wikibooks.org/wiki/Blender_3D:_Noob_to_Pro/Landscape_Modeling_I:_Basic_Terrain">Blender 3D: Noob to Pro – Landscape Modeling I: Basic Terrain</a></li>
<li><a class="text-contentLink text-lg" href="http://en.wikibooks.org/wiki/Blender_3D:_Noob_to_Pro/Landscape_Modeling_II:_Texture_Stenciling">Blender 3D: Noob to Pro – Landscape Modeling II: Texture Stenciling</a></li>
</ul></article></main></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"metadata":{"path":"content/post/2011-07-03-terreno-montanoso-en-blender.mdx","title":"Terreno montañoso en Blender","date":"2011-07-03T13:11:25.000Z","categories":["Games development"],"series":null,"description":null,"slug":"terreno-montanoso-en-blender","readingTime":"6 min read","draft":false,"disableComments":false,"keywords":[],"banner":null},"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    strong: \"strong\",\n    a: \"a\",\n    h3: \"h3\",\n    em: \"em\",\n    img: \"img\",\n    ol: \"ol\",\n    li: \"li\",\n    ul: \"ul\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Me gustaría pedir disculpas por el descenso en el ritmo de publicación, el motivo es muy sencillo: estoy \", _jsxs(_components.strong, {\n        children: [\"trabajando de forma intensa en la interfaz de \", _jsx(_components.a, {\n          href: \"/proyectos/sion-tower/\",\n          children: \"Sion Tower\"\n        })]\n      }), \". Para el menú principal he creado un \", _jsx(_components.strong, {\n        children: \"escenario montañoso\"\n      }), \" con los enemigos aproximándose a la Torre Sagrada en medio de una intensa lluvia. \", _jsx(_components.strong, {\n        children: \"Modelar las montañas con Blender\"\n      }), \" es terriblemente sencillo una vez se conoce la técnica apropiada y aquí vamos a comentarla en detalle.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Creación de la malla\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Lo primero que debes hacer es abrir Blender y eliminar el cubo por defecto. Utilizaremos una rejilla o malla de vértices para modelar el terreno. El proceso es simple, habrá que modificar la posición \", _jsx(_components.em, {\n        children: \"Z\"\n      }), \" (vertical) de varios vértices para crear elevaciones. Finalmente, utilizaremos suavizado para evitar los bordes abruptos.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Para \", _jsx(_components.strong, {\n        children: \"añadir la rejilla\"\n      }), \" seleccionamos \", _jsx(_components.em, {\n        children: \"Add → Mesh → Grid\"\n      }), \" e indicamos el número de vértices. A mayor resolución más calidad pero el coste computacional en Blender y en un videojuego crecerá de forma cuadrática. En Sion Tower me ha bastado con \", _jsx(_components.em, {\n        children: \"50×50\"\n      }), \", el suavizado final se encargará de mejorar el resultado. Después, en modo edición, debes escalar la rejilla hasta que se ajuste a la escala de tu juego o entorno.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-grid.webp\",\n      alt: \"blender-grid.jpg\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Modelado de las montañas\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"La clave está en utilizar el modo de \", _jsx(_components.strong, {\n        children: \"edición proporcional\"\n      }), \" que activamos pulsando la tecla \", _jsx(_components.em, {\n        children: \"O\"\n      }), \". Veremos que el modo también puede activarse en la barra de herramientas \", _jsx(_components.em, {\n        children: \"Proportional – On\"\n      }), \". Este modo hará que, al modificar un vértice, los vecinos dentro de un radio de acción también se vean ligeramente afectados. Justo al lado establecemos el \", _jsx(_components.em, {\n        children: \"Falloff\"\n      }), \" a \", _jsx(_components.em, {\n        children: \"Smooth Falloff\"\n      }), \". Para activar el suavizado, seleccionamos todos los vértices con \", _jsx(_components.em, {\n        children: \"A\"\n      }), \" y pulsamos en \", _jsx(_components.em, {\n        children: \"Set Smooth\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-elevacion.webp\",\n      alt: \"blender-elevacion.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"El proceso a seguir para \", _jsx(_components.strong, {\n        children: \"crear o modificar elevaciones\"\n      }), \" es:\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Seleccionar un vértice con el botón derecho y ajustar el radio de acción con la rueda del ratón a nuestro gusto.\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Desplazar el vértice pulsando la tecla \", _jsx(_components.em, {\n          children: \"G\"\n        }), \", es importante restringirlo al eje vertical con la tecla \", _jsx(_components.em, {\n          children: \"Z\"\n        }), \", de lo contrario se producen efectos extraños.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Repetir el proceso con vértices y radios de acción diferentes hasta conseguir el resultado deseado.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-terrain.webp\",\n      alt: \"blender-terrain.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Recuerda que \", _jsx(_components.strong, {\n        children: \"las montañas son estructuras naturales\"\n      }), \" y que, por tanto, muestran multitud de irregularidades. En la asimetría y lo brusco está el secreto.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Texturizar el terreno\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Continuamos la creación del terreno \", _jsx(_components.strong, {\n        children: \"añadiendo una textura\"\n      }), \":\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Seleccionamos el terreno, acudimos al panel de materiales (\", _jsx(_components.em, {\n          children: \"F5\"\n        }), \") y añadimos un material nuevo.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Las montañas no tienen un aspecto de material plástico, por lo que establecemos su color especular a .\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Nos dirigimos al panel de texturas (\", _jsx(_components.em, {\n          children: \"F6\"\n        }), \") y añadimos una nueva textura de tipo imagen con césped.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Cargamos la textura de fichero y establecemos las propiedades \", _jsx(_components.em, {\n          children: \"XRepeat\"\n        }), \" e \", _jsx(_components.em, {\n          children: \"YRepeat\"\n        }), \" que, como sus propios nombres indican, hacen repetir la textura.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/grass.webp\",\n      alt: \"grass.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Si pulsas \", _jsx(_components.em, {\n        children: \"F12\"\n      }), \" verás el renderizado de tus montañas y no tardarás de percatarte de dos problemas: la iluminación y… \", _jsx(_components.strong, {\n        children: \"¡parecen las montañas de los hobbits estando verdes!\"\n      }), \" En primer lugar, deberás jugar con las fuentes de luz. Ahora nos centraremos en mezclar varias texturas.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/terrain.webp\",\n      alt: \"terrain.jpg\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Texturas stencil\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Un terreno de corte más realista tiene \", _jsx(_components.strong, {\n        children: \"varias texturas\"\n      }), \": hierba, tierra, rocas o incluso nieve. Las transiciones entre las mismas deben ser suaves y su situación debe ser lógica: la hierba abunda en los valles mientras la roca en los picos montañosos. En esta sección aprenderemos a aplicar varias texturas a nuestro terreno mezclándolas entre sí de manera apropiada.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Imaginad que tendremos una \", _jsx(_components.strong, {\n        children: \"pila de capas con varias texturas\"\n      }), \" ordenadas: hierba, roca y nieve. En medio colocaremos dos texturas en escala de grises llamadas stencil que indicarán al sistema de renderizado cómo han de mezclarse las capas entre sí. Un color negro indica que sólo ha de visualizarse la capa superior, blanco significa que sólo se vera la capa inferior. Lo interesante es que un valor intermedio o gris significará que las capas se mezclarán siguiendo la ponderación del color.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-stencil-3d.webp\",\n      alt: \"blender-stencil-3d.jpg\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Seguimos el siguiente proceso:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Cambiamos del modo edición al \", _jsx(_components.em, {\n          children: \"Vertex Paint\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Seleccionamos el panel de edición (\", _jsx(_components.em, {\n          children: \"F9\"\n        }), \") y veremos una paleta de colores. Elegimos el color negro y pulsamos sobre \", _jsx(_components.em, {\n          children: \"set VertCol\"\n        }), \" y la malla quedará completamente negra (se visualizaría la capa inferior).\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Elegimos el color blanco y configuramos tanto la opacidad como el tamaño.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Comenzamos a pintar el terreno: los picos deberían ser completamente blancos (roca), las lomas de un tono intermedio y los valles prácticamente negros (hierba).\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Cuando estemos satisfechos seleccionaremos la vista \", _jsx(_components.em, {\n          children: \"Top\"\n        }), \" y el modo de proyección ortográfico. Hemos de hacer una captura de pantalla y aislar la el resultado con cualquier software de edición de imágenes como Gimp.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-stencil.webp\",\n      alt: \"blender-stencil.jpg\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Volvemos al modo edición y creamos una nueva textura debajo de la hierba de tipo imagen cargando la textura stencil hierba-roca. Esta textura no debe repetirse.\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"En el panel \", _jsx(_components.em, {\n          children: \"Map To\"\n        }), \" deseleccionamos \", _jsx(_components.em, {\n          children: \"Col\"\n        }), \" y activamos \", _jsx(_components.em, {\n          children: \"Stencil\"\n        }), \" y \", _jsx(_components.em, {\n          children: \"No RGB\"\n        }), \".\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Creamos una nueva textura para la roca, cargamos la imagen y aplicamos repetición.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/rock.webp\",\n      alt: \"rock.jpg\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-stencil-aplicando.webp\",\n      alt: \"blender-stencil-aplicando.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Si renderizas con \", _jsx(_components.em, {\n        children: \"F12\"\n      }), \" verás un resultado mucho más satisfactorio.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/terrain-rock.webp\",\n      alt: \"terrain-rock.jpg\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Resultado final\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Si repites el proceso stencil para añadir una \", _jsx(_components.strong, {\n        children: \"nueva capa con nieve\"\n      }), \" el resultado tendrá mucha más calidad:\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/terrain-snow.webp\",\n      alt: \"terrain-snow.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"La escena final para el \", _jsx(_components.strong, {\n        children: \"menú principal de Sion Tower\"\n      }), \" ha quedado de la siguiente manera:\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/siontower-menu.webp\",\n      alt: \"siontower-menu.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Nota importante\"\n      }), \": A la hora de exportar a Ogre el modelo con las texturas stencil he tenido muchos problemas. Al final la solución ha pasado por mezclar yo mismo las capas stencil con las de texturas utilizando Gimp y aplicarlas a la maya utilizando mapeado UV.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-stencil-precomputado.webp\",\n      alt: \"blender-stencil-precomputado.jpg\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Referencias\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Para realizar el proceso y redactar el artículo he seguido estos dos estupendos tutoriales con varios añadidos personales:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://en.wikibooks.org/wiki/Blender_3D:_Noob_to_Pro/Landscape_Modeling_I:_Basic_Terrain\",\n          children: \"Blender 3D: Noob to Pro – Landscape Modeling I: Basic Terrain\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://en.wikibooks.org/wiki/Blender_3D:_Noob_to_Pro/Landscape_Modeling_II:_Texture_Stenciling\",\n          children: \"Blender 3D: Noob to Pro – Landscape Modeling II: Texture Stenciling\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","scope":{}},"series":null},"__N_SSG":true},"page":"/[slug]","query":{"slug":"terreno-montanoso-en-blender"},"buildId":"iFVOTeVL8ui_ck4_acaJ_","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>