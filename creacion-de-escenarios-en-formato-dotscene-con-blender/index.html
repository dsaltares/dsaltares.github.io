<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/touch-icon-144-precomposed.png"/><title>Creación de escenarios en formato DotScene con Blender · David Saltares</title><meta name="robots" content="index,follow"/><meta name="description" content="Engineering Leadership &amp; Software Development"/><meta property="og:title" content="Creación de escenarios en formato DotScene con Blender · David Saltares"/><meta property="og:description" content="Engineering Leadership &amp; Software Development"/><meta property="og:url" content="https://saltares.com/creacion-de-escenarios-en-formato-dotscene-con-blender"/><meta property="og:type" content="website"/><link rel="canonical" href="https://saltares.com/creacion-de-escenarios-en-formato-dotscene-con-blender"/><meta name="keywords" content=""/><meta name="next-head-count" content="12"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/d3d4cc303d9c1080.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/d3d4cc303d9c1080.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-7671224c423a1e1f.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-66d32731bdd20e83.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-41a9ee3ebe735abe.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-75760b031d352622.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/c16184b3-5eed107b4bbcea31.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/2cca2479-0d4bcd71a6a0316a.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/252-2454d8293e83336b.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/167-6fe50976be6d0e53.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/962-ea29c7731d832d32.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/373-f5166c707bca4ed3.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-81b48131ea6e98cc.js" defer="" crossorigin=""></script><script src="/_next/static/CN-lfJWlIDhEOrNUFgPZU/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/CN-lfJWlIDhEOrNUFgPZU/_ssgManifest.js" defer="" crossorigin=""></script><style data-href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap">@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79P0Y.woff) format('woff')}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh4Oo.woff) format('woff')}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0-ExcOPIDUg-g.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0aExcOPIDUg-g.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0yExcOPIDUg-g.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0KExcOPIDU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0OOtLR8a8zILig.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0OqtLR8a8zILig.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0OCtLR8a8zILig.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0O6tLR8a8zI.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div class="flex flex-col md:flex-row font-sans text-xl w-full"><aside class="md:max-w-[360px] bg-primary px-10 py-10 text-white text-xl md:fixed md:top-0 md:left-0 md:h-full flex flex-col justify-end items-center md:items-start"><div><a href="/"><div class="mb-5"><img alt="profile picture" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="rounded-full" style="color:transparent" src="/img/profile.webp"/></div><h1 class="text-white font-bold text-4xl leading-10">David Saltares</h1></a></div><p class="text-contentLight text-2xl mb-5 leading-9 text-center md:text-left">Engineering Leadership &amp; Software Development</p><div class="mb-5 font-base"><button class="ml-onclick-form" onclick="ml('show', '646AL4', true)">✉️ Subscribe</button></div><nav><ul class="mb-5 flex flex-col items-center md:items-start list-none pl-0"><li class="leading-7"><a href="/">Blog</a></li><li class="leading-7"><a href="/about-me/">About</a></li><li class="leading-7"><a href="/apps-tools/">Apps &amp; Tools</a></li><li class="leading-7"><a href="/game-jams/">Game Jams</a></li><li class="leading-7"><a href="/games/">Games</a></li><li class="leading-7"><a href="/libgdx-cross-platform-game-development-cookbook/">Libgdx Cookbook</a></li></ul></nav><ul class="mb-5 list-none pl-0"><li class="inline"><a aria-label="Github profile" href="https://github.com/dsaltares"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="square-github" class="svg-inline--fa fa-square-github text-4xl mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></path></svg></a></li><li class="inline"><a aria-label="Linkedin profile" href="https://www.linkedin.com/in/davidsaltares/"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin text-4xl mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li class="inline"><a aria-label="Twitter profile" href="https://twitter.com/dsaltares"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="square-twitter" class="svg-inline--fa fa-square-twitter text-4xl mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path></svg></a></li><li class="inline"><a aria-label="RSS feed" href="https://saltares.com/index.xml"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-rss" class="svg-inline--fa fa-square-rss text-4xl mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM96 136c0-13.3 10.7-24 24-24c137 0 248 111 248 248c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-110.5-89.5-200-200-200c-13.3 0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24c83.9 0 152 68.1 152 152c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-57.4-46.6-104-104-104c-13.3 0-24-10.7-24-24zm64 120c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"></path></svg></a></li><li class="inline"><a rel="me" href="https://fosstodon.org/@dsaltares"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="mastodon" class="svg-inline--fa fa-mastodon text-4xl mr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></path></svg></a></li></ul><p class="text-contentLight text-lg">© 2024 David Saltares.</p></aside><div class="md:max-w-[360px] w-full hidden md:block flex-grow-0 flex-shrink-0"></div><div class="flex flex-col main-content"><main class="w-full max-w-[720px] pr-4 py-10 pl-5 md:py-20 md:pl-20"><article class="text-content mb-10"><div><a href="/creacion-de-escenarios-en-formato-dotscene-con-blender/"><h1 class="font-bold text-4xl mb-2 text-primary">Creación de escenarios en formato DotScene con Blender</h1></a><p class="flex text-contentLight mb-1">Feb 26 2011 · 8 min read<span> · </span><a class="text-contentLink" href="/creacion-de-escenarios-en-formato-dotscene-con-blender/#disqus_thread">Comments</a></p><div class="mb-3"><div class="flex flex-row gap-1"><a class="px-2 py-1 bg-slate-900 text-white rounded font-bold text-sm" href="/categories/games-development/">Games development</a></div></div></div><img class="mb-1" src="/img/wp/escenarios-blender.webp" alt="escenarios-blender.png"/>
<p>Como pudisteis ver en <a class="text-contentLink text-lg" href="/proyectos/pfc/sion-tower/sion-tower-carga-de-escenarios-desde-blender-y-colisiones/" title="Sion Tower, carga de escenarios desde Blender y colisiones">el anterior vídeo</a> ya <strong>he conseguido cargar un escenario creado con Blender</strong>. En este artículo pretendo explicar porqué he escogido Blender como editor de escenarios y cómo funciona el <strong>sistema de carga y gestión de niveles</strong>. Como veremos, aún me quedan puntos por implementar pero no quería abarcarlo todo desde el principio. Todo a su tiempo, al menos el diseño está pensado para ser escalable.</p>
<h3>Blender vs Ogitor</h3>
<p>A comienzos de enero escribí <a class="text-contentLink text-lg" href="/proyectos/pfc/sion-tower/ogitor-instalacion-en-linux-y-el-formato-dotscene/" title="Ogitor: instalación en Linux y el formato DotScene">un artículo</a> en el que hablaba sobre un editor de escenarios desarrollado con QT y Ogre llamado <strong><a class="text-contentLink text-lg" href="http://www.ogitor.org/HomePage">Ogitor</a></strong>. Más tarde hice pruebas para ver si soportaba todo lo que necesitaba pero me di cuenta de que <strong>se quedaba corto</strong>. Es un proyecto muy prometedor pero le falta madurez y algunas cosas por implementar.</p>
<img class="mb-1" src="/img/wp/ogitor.webp" alt="ogitor.png"/>
<p>En cambio, <strong><a class="text-contentLink text-lg" href="http://www.blender.org/">Blender</a> es un editor 3D consagrado</strong>, flexible, estable y con una comunidad mucho mayor. Busqué más alternativas y pregunté en Twitter por un buen editor de niveles <strong>compatible con el formato DotScene</strong>. El usuario <a class="text-contentLink text-lg" href="http://twitter.com/#!/makiolo">@makiolo</a> también sugirió amablemente Blender. Tras varias pruebas pude obtener el vídeo del anterior artículo. Si todo va bien y no me encuentro con ningún obstáculo insalvable utilizaré Blender.</p>
<h3>El formato DotScene y los escenarios de Sion Tower</h3>
<p><strong><a class="text-contentLink text-lg" href="http://www.ogre3d.org/tikiwiki/DotScene">DotScene</a> es un formato xml para definir escenas 3D</strong> en Ogre, podéis acceder a su DTD <a class="text-contentLink text-lg" href="http://www.ogre3d.org/tikiwiki/DotSceneFormat">aquí</a>. Contiene información sobre los nodos que componen la escena: cámaras, luces y entidades. Así mismo también ofrece datos sobre la luz ambiente y el color de fondo. A continuación tenéis el fichero xml correspondiente a la escena por defecto de Blender (un cubo, una cámara y un punto de luz):</p>
<div class="remark-highlight"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scene</span> <span class="token attr-name">formatVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.0.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nodes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>node</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Lamp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>position</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4.076245<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5.903862<span class="token punctuation">&quot;</span></span> <span class="token attr-name">z</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-1.005454<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>quaternion</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-0.284166<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.726942<span class="token punctuation">&quot;</span></span> <span class="token attr-name">z</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.342034<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.523275<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scale</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">z</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>light</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Spot<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>point<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>colourdiffuse</span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">g</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">b</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>colourspecular</span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">g</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">b</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightattenuation</span> <span class="token attr-name">range</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5000.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">constant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">linear</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.033333<span class="token punctuation">&quot;</span></span> <span class="token attr-name">quadratic</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>light</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>node</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>node</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Cube<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>position</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">z</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-0.000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>quaternion</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">z</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-0.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scale</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">z</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Cube<span class="token punctuation">&quot;</span></span> <span class="token attr-name">meshFile</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Cube.mesh<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>node</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>node</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Camera<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>position</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>7.481132<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5.343665<span class="token punctuation">&quot;</span></span> <span class="token attr-name">z</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6.507640<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>quaternion</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-0.212056<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.386910<span class="token punctuation">&quot;</span></span> <span class="token attr-name">z</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.085793<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.893293<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scale</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">z</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>camera</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Camera<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fov</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>37.849289<span class="token punctuation">&quot;</span></span> <span class="token attr-name">projectionType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>perspective<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>clipping</span> <span class="token attr-name">nearPlaneDist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.100000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">farPlaneDist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100.000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>camera</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>node</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nodes</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>externals</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>material<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Scene.material<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>externals</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>colourambient</span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">g</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">b</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>colourbackground</span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.056563<span class="token punctuation">&quot;</span></span> <span class="token attr-name">g</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.220815<span class="token punctuation">&quot;</span></span> <span class="token attr-name">b</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.400000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scene</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>Ya comenté que <strong>utilizaría la biblioteca <a class="text-contentLink text-lg" href="http://code.google.com/p/pugixml/">pugixml</a></strong> para procesar los ficheros xml de cada nivel. Tiene un rendimiento excelente, cuenta con una documentación clara y es muy sencilla de utilizar. No requiere instalaciones ya que simplemente hay que añadir tres ficheros al proyecto. Lo que sigue es un pequeño ejemplo para leer la información del entorno de la escena:</p>
<div class="remark-highlight"><pre class="language-cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">Level</span><span class="token double-colon punctuation">::</span><span class="token function">loadAmbientInfo</span><span class="token punctuation">(</span><span class="token keyword">const</span> pugi<span class="token double-colon punctuation">::</span>xml_document<span class="token operator">&amp;</span> doc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Cargamos el documento</span>
    pugi<span class="token double-colon punctuation">::</span>xml_node rootNode<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>rootNode <span class="token operator">=</span> doc<span class="token punctuation">.</span><span class="token function">child</span><span class="token punctuation">(</span><span class="token string">&quot;scene&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cerr <span class="token operator">&lt;</span> <span class="token operator">&lt;</span> <span class="token string">&quot;Level::loadNodesInfo(): error al leer el fichero xml en elemento scene&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Buscamos el nodo ambient</span>
    pugi<span class="token double-colon punctuation">::</span>xml_node enviromentNode<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>enviromentNode <span class="token operator">=</span> rootNode<span class="token punctuation">.</span><span class="token function">child</span><span class="token punctuation">(</span><span class="token string">&quot;environment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cerr <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Level::loadNodesInfo(): error al leer el fichero xml en elemento enviroment&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Tomamos el SceneManager</span>
    Ogre<span class="token double-colon punctuation">::</span>SceneManager<span class="token operator">*</span> sceneManager <span class="token operator">=</span> <span class="token class-name">Game</span><span class="token double-colon punctuation">::</span><span class="token function">getSceneManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Leemos ambientColour</span>
    Ogre<span class="token double-colon punctuation">::</span>ColourValue ambientColour<span class="token punctuation">;</span>
    pugi<span class="token double-colon punctuation">::</span>xml_node colourNode <span class="token operator">=</span> enviromentNode<span class="token punctuation">.</span><span class="token function">child</span><span class="token punctuation">(</span><span class="token string">&quot;colourAmbient&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ambientColour<span class="token punctuation">.</span>r <span class="token operator">=</span> colourNode<span class="token punctuation">.</span><span class="token function">attribute</span><span class="token punctuation">(</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as_float</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ambientColour<span class="token punctuation">.</span>g <span class="token operator">=</span> colourNode<span class="token punctuation">.</span><span class="token function">attribute</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as_float</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ambientColour<span class="token punctuation">.</span>b <span class="token operator">=</span> colourNode<span class="token punctuation">.</span><span class="token function">attribute</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as_float</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Establecemos el ambient colour</span>
    sceneManager<span class="token operator">-&gt;</span><span class="token function">setAmbientLight</span><span class="token punctuation">(</span>ambientColour<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Tenemos un problema y es que no <strong>nos basta con conocer los objetos que componen la escena</strong>. Para los escenarios de Sion Tower necesitamos almacenar más datos: nombre, descripción, música que sonará durante la partida, icono, oleadas de enemigos, posición inicial del personaje, posición de la reliquia, <a class="text-contentLink text-lg" href="http://en.wikipedia.org/wiki/Navigation_mesh">navigation mesh</a> (para la búsqueda de caminos), etc. DotScene proporciona un campo <em>userData</em> para albergar información personalizada pero es complicado trabajar con él desde Blender. En secciones posteriores veremos cómo he abordado este problema.</p>
<h3>Exportando desde Blender a DotScene</h3>
<p>Para exportar una escena de Blender al formato DotScene es necesario <strong>instalar el plugin correspondiente</strong>. Las instrucciones son las siguientes:</p>
<ul>
<li><a class="text-contentLink text-lg" href="http://ogreaddons.svn.sourceforge.net/viewvc/ogreaddons/trunk/blendersceneexporter/ogredotscene.py">Descargar el plugin</a></li>
<li>Si utilizas GNU/Linux, copia el plugin en <em>~/.blender/scripts/</em> y dale permisos de ejecución.</li>
<li>Si utilizas Windows copia el plugin en la carpeta plugins dentro del directorio de instalación de Blender. Por defecto es <em>C:\Archivos de Programa\Blender Foundation\Blender</em>.</li>
</ul>
<img class="mb-1" src="/img/wp/exportar-dotscene.webp" alt="exportar-dotscene.png"/>
<p>Cuando tengamos nuestra escena en Blender hacemos click en <em>file → export → OGRE Scene</em>. Debemos seleccionar los objetos que queramos exportar (normalmente todos) y corregir los ejes X,Z ya que en Blender se disponen al revés que en Ogre. Por último elegimos la ruta destino y pulsamos sobre <em>&quot;exportar&quot;</em>.</p>
<h3>Sistema de carga de niveles</h3>
<p>El sistema de carga de niveles de Sion Tower se compone de dos clases principales: <em>Level</em> y <em>LevelManager</em>. La clase <em>Level</em> contiene la información de un nivel de juego completo (escena, oleadas de enemigos, posición inicial del personaje, etc). Una vez creado, un objeto <em>Level</em> puede encontrarse en dos estados: <strong>inicializado</strong> o <strong>cargado</strong>. Al estar inicializado sólo estará disponible su información básica como el nombre o la descripción. Si empleamos el método <em>Level::load</em> podremos acceder a los objetos del escenario, la música que deberíamos reproducir, etc aunque ocupará mucha más memoria.</p>
<img class="mb-1" src="/img/wp/levels.webp" alt="levels.png"/>
<p>Cuando se crea un nivel, se lee la i<strong>nformación básica</strong> de un sencillo fichero xml independiente del DotScene. Los niveles tienen un identificador de forma que el fichero DotScene debe ser i<em>d_scene.xml</em> y el que contiene información básica debe ser <em>id_info.xml</em>. Lo siguiente es un ejemplo de fichero de información básica:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">&amp;lt; ?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;basicinfo&amp;gt;
    &amp;lt;name&amp;gt;The Hall&amp;lt;/name&amp;gt;
    &amp;lt;description&amp;gt;Some Goblins assault the main Hall of the Tower&amp;lt;/description&amp;gt;
    &amp;lt;song name=&amp;quot;music.ogg&amp;quot; group=&amp;quot;&amp;quot; /&amp;gt;
&amp;lt;/basicinfo&amp;gt;</code></pre></div>
<p>La clase <em>LevelManager</em> es la encargada de detectar los niveles disponibles, inicializarlos, controlar su ciclo de vida y permitir al usuario el acceso a los mismos. Sigue el patrón <a class="text-contentLink text-lg" href="http://es.wikipedia.org/wiki/Singleton">Singleton</a> y en el momento de su creación toma todos los ficheros <em>_info.xml</em> del directorio <em>media/levels</em> para construir los niveles.</p>
<img class="mb-1" src="/img/wp/level_system.webp" alt="level_system.png"/>
<h3>Convenciones en el nombrado</h3>
<p><strong>Los nodos</strong> que contengan entidades (mayas tridimensionales) <strong>pueden tener varios significados</strong> dentro de Sion Tower en función de su nombrado.</p>
<ul>
<li><strong>Objetos colisionables</strong>: siguen el patrón <em>&quot;scene – objectType – objectNumber&quot;</em>. El tipo de objeto nos indica el modelo colisionable que posee (table, bigWall, chair…). El número evita que tengamos entidades duplicadas.</li>
<li><strong>Posición del jugador</strong>: la entidad <em>&quot;player&quot;</em> se utiliza para definir la posición inicial del jugador.</li>
<li><strong>Posición de la reliquia</strong>: la entidad <em>&quot;relic&quot;</em> define la posición del objeto precioso que debe proteger nuestro protagonista.</li>
</ul>
<p>El fichero DotScene generado con Blender deberá contener información adicional aún no implementada como:</p>
<ul>
<li><strong>Navigation mesh</strong>: maya que indica la superficie por la que pueden desplazarse los enemigos. Resultará muy útil para la búsqueda de caminos y la inteligencia artificial.</li>
<li><strong>Oleadas de enemigos</strong>: otras entidades deberán definir el tipo de enemigo, el momento en el que entrará y por dónde lo hará.</li>
</ul>
<img class="mb-1" src="/img/wp/wow-navmesh.webp" alt="wow-navmesh.jpg"/>
<p>El navigation mesh puede representarse mediante pequeñas esferas, así como la posición inicial de la reliquia o el personaje, a gusto del diseñador de niveles. Lo importante es que se cumplan las reglas de nombrado.</p>
<h3>Catálogo de objetos colisionables</h3>
<p>La clase <em>LevelManager</em> lleva internamente un catálogo de objetos Body que definen los tipos de elementos colisionables que podemos encontrar en la escena. Al cagar un nivel y toparnos con una entidad del tipo <em>&quot;scene – objectType – objectNumber&quot;</em> le pedimos a <em>LevelManager</em> que nos devuelva el Body correspondiente con el identificador indicado mediante el método <em>createBodyFromCatalog()</em>. El catálogo se pruebla al crear la única instancia de <em>LevelManager</em> desde un fichero como el siguiente:</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">&amp;lt; ?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;bodies&amp;gt;
    &amp;lt;body name=&amp;quot;floor&amp;quot; type=&amp;quot;1&amp;quot;&amp;gt;
        &amp;lt;shape type=&amp;quot;plane&amp;quot;&amp;gt;
            &amp;lt;position x=&amp;quot;0&amp;quot; y=&amp;quot;0&amp;quot; z=&amp;quot;0&amp;quot;/&amp;gt;
            &amp;lt;normal x=&amp;quot;0&amp;quot; y=&amp;quot;1&amp;quot; z=&amp;quot;0&amp;quot;/&amp;gt;
        &amp;lt;/shape&amp;gt;
    &amp;lt;/body&amp;gt;
    &amp;lt;body name=&amp;quot;wallcentered&amp;quot; type=&amp;quot;2&amp;quot;&amp;gt;
        &amp;lt;shape type=&amp;quot;obb&amp;quot;&amp;gt;
            &amp;lt;center x=&amp;quot;0&amp;quot; y=&amp;quot;0&amp;quot; z=&amp;quot;0&amp;quot;/&amp;gt;
            &amp;lt;extent x=&amp;quot;0.5&amp;quot; y=&amp;quot;1&amp;quot; z=&amp;quot;0.04&amp;quot;/&amp;gt;
            &amp;lt;axes a00=&amp;quot;1&amp;quot; a01=&amp;quot;0&amp;quot; a02=&amp;quot;0&amp;quot; a10=&amp;quot;0&amp;quot; a11=&amp;quot;1&amp;quot; a12=&amp;quot;0&amp;quot; a20=&amp;quot;0&amp;quot; a21=&amp;quot;0&amp;quot; a22=&amp;quot;1&amp;quot; /&amp;gt;
        &amp;lt;/shape&amp;gt;
    &amp;lt;/body&amp;gt;
    &amp;lt;body name=&amp;quot;wall&amp;quot; type=&amp;quot;2&amp;quot;&amp;gt;
        &amp;lt;shape type=&amp;quot;obb&amp;quot;&amp;gt;
            &amp;lt;center x=&amp;quot;0&amp;quot; y=&amp;quot;1&amp;quot; z=&amp;quot;0&amp;quot;/&amp;gt;
            &amp;lt;extent x=&amp;quot;0.5&amp;quot; y=&amp;quot;1&amp;quot; z=&amp;quot;0.04&amp;quot;/&amp;gt;
            &amp;lt;axes a00=&amp;quot;1&amp;quot; a01=&amp;quot;0&amp;quot; a02=&amp;quot;0&amp;quot; a10=&amp;quot;0&amp;quot; a11=&amp;quot;1&amp;quot; a12=&amp;quot;0&amp;quot; a20=&amp;quot;0&amp;quot; a21=&amp;quot;0&amp;quot; a22=&amp;quot;1&amp;quot; /&amp;gt;
        &amp;lt;/shape&amp;gt;
    &amp;lt;/body&amp;gt;
    &amp;lt;body name=&amp;quot;cube&amp;quot; type=&amp;quot;2&amp;quot;&amp;gt;
        &amp;lt;shape type=&amp;quot;obb&amp;quot;&amp;gt;
            &amp;lt;center x=&amp;quot;0&amp;quot; y=&amp;quot;0&amp;quot; z=&amp;quot;0&amp;quot;/&amp;gt;
            &amp;lt;extent x=&amp;quot;1&amp;quot; y=&amp;quot;1&amp;quot; z=&amp;quot;1&amp;quot;/&amp;gt;
            &amp;lt;axes a00=&amp;quot;1&amp;quot; a01=&amp;quot;0&amp;quot; a02=&amp;quot;0&amp;quot; a10=&amp;quot;0&amp;quot; a11=&amp;quot;1&amp;quot; a12=&amp;quot;0&amp;quot; a20=&amp;quot;0&amp;quot; a21=&amp;quot;0&amp;quot; a22=&amp;quot;1&amp;quot; /&amp;gt;
        &amp;lt;/shape&amp;gt;
    &amp;lt;/body&amp;gt;
    &amp;lt;body name=&amp;quot;sphere&amp;quot; type=&amp;quot;2&amp;quot;&amp;gt;
        &amp;lt;shape type=&amp;quot;sphere&amp;quot;&amp;gt;
            &amp;lt;center x=&amp;quot;0&amp;quot; y=&amp;quot;0&amp;quot; z=&amp;quot;0&amp;quot;/&amp;gt;
            &amp;lt;radius value=&amp;quot;1&amp;quot;/&amp;gt;
        &amp;lt;/shape&amp;gt;
    &amp;lt;/body&amp;gt;
&amp;lt;/bodies&amp;gt;</code></pre></div>
<h3>Próximamente</h3>
<p>Espero terminar de pulir el sistema de niveles y conseguir el arte necesario para subir un nuevo vídeo más vistoso. <strong>¡Seguiré informando!</strong></p></article></main></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"metadata":{"path":"content/post/2011-02-26-creacion-de-escenarios-en-formato-dotscene-con-blender.mdx","title":"Creación de escenarios en formato DotScene con Blender","date":"2011-02-26T19:49:59.000Z","categories":["Games development"],"series":null,"description":null,"slug":"creacion-de-escenarios-en-formato-dotscene-con-blender","readingTime":"8 min read","draft":false,"disableComments":false,"keywords":[],"banner":null},"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    img: \"img\",\n    p: \"p\",\n    a: \"a\",\n    strong: \"strong\",\n    h3: \"h3\",\n    div: \"div\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\",\n    em: \"em\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.img, {\n      src: \"/img/wp/escenarios-blender.webp\",\n      alt: \"escenarios-blender.png\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Como pudisteis ver en \", _jsx(_components.a, {\n        href: \"/proyectos/pfc/sion-tower/sion-tower-carga-de-escenarios-desde-blender-y-colisiones/\",\n        title: \"Sion Tower, carga de escenarios desde Blender y colisiones\",\n        children: \"el anterior vídeo\"\n      }), \" ya \", _jsx(_components.strong, {\n        children: \"he conseguido cargar un escenario creado con Blender\"\n      }), \". En este artículo pretendo explicar porqué he escogido Blender como editor de escenarios y cómo funciona el \", _jsx(_components.strong, {\n        children: \"sistema de carga y gestión de niveles\"\n      }), \". Como veremos, aún me quedan puntos por implementar pero no quería abarcarlo todo desde el principio. Todo a su tiempo, al menos el diseño está pensado para ser escalable.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Blender vs Ogitor\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"A comienzos de enero escribí \", _jsx(_components.a, {\n        href: \"/proyectos/pfc/sion-tower/ogitor-instalacion-en-linux-y-el-formato-dotscene/\",\n        title: \"Ogitor: instalación en Linux y el formato DotScene\",\n        children: \"un artículo\"\n      }), \" en el que hablaba sobre un editor de escenarios desarrollado con QT y Ogre llamado \", _jsx(_components.strong, {\n        children: _jsx(_components.a, {\n          href: \"http://www.ogitor.org/HomePage\",\n          children: \"Ogitor\"\n        })\n      }), \". Más tarde hice pruebas para ver si soportaba todo lo que necesitaba pero me di cuenta de que \", _jsx(_components.strong, {\n        children: \"se quedaba corto\"\n      }), \". Es un proyecto muy prometedor pero le falta madurez y algunas cosas por implementar.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/ogitor.webp\",\n      alt: \"ogitor.png\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"En cambio, \", _jsxs(_components.strong, {\n        children: [_jsx(_components.a, {\n          href: \"http://www.blender.org/\",\n          children: \"Blender\"\n        }), \" es un editor 3D consagrado\"]\n      }), \", flexible, estable y con una comunidad mucho mayor. Busqué más alternativas y pregunté en Twitter por un buen editor de niveles \", _jsx(_components.strong, {\n        children: \"compatible con el formato DotScene\"\n      }), \". El usuario \", _jsx(_components.a, {\n        href: \"http://twitter.com/#!/makiolo\",\n        children: \"@makiolo\"\n      }), \" también sugirió amablemente Blender. Tras varias pruebas pude obtener el vídeo del anterior artículo. Si todo va bien y no me encuentro con ningún obstáculo insalvable utilizaré Blender.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"El formato DotScene y los escenarios de Sion Tower\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsxs(_components.strong, {\n        children: [_jsx(_components.a, {\n          href: \"http://www.ogre3d.org/tikiwiki/DotScene\",\n          children: \"DotScene\"\n        }), \" es un formato xml para definir escenas 3D\"]\n      }), \" en Ogre, podéis acceder a su DTD \", _jsx(_components.a, {\n        href: \"http://www.ogre3d.org/tikiwiki/DotSceneFormat\",\n        children: \"aquí\"\n      }), \". Contiene información sobre los nodos que componen la escena: cámaras, luces y entidades. Así mismo también ofrece datos sobre la luz ambiente y el color de fondo. A continuación tenéis el fichero xml correspondiente a la escena por defecto de Blender (un cubo, una cámara y un punto de luz):\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-xml\",\n        children: _jsxs(_components.code, {\n          className: \"language-xml\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"scene\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"formatVersion\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.0.0\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n  \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"nodes\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"node\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"name\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"Lamp\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"position\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"x\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"4.076245\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"y\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"5.903862\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"z\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"-1.005454\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"quaternion\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"x\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"-0.284166\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"y\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.726942\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"z\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.342034\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"w\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.523275\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"scale\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"x\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"y\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"z\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"light\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"name\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"Spot\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"type\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"point\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"colourdiffuse\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"r\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"g\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"b\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"colourspecular\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"r\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"g\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"b\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"lightattenuation\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"range\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"5000.0\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"constant\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"linear\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.033333\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"quadratic\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"light\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"node\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"node\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"name\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"Cube\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"position\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"x\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"y\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"z\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"-0.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"quaternion\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"x\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"y\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"z\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"-0.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"w\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"scale\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"x\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"y\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"z\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"entity\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"name\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"Cube\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"meshFile\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"Cube.mesh\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"node\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"node\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"name\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"Camera\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"position\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"x\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"7.481132\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"y\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"5.343665\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"z\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"6.507640\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"quaternion\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"x\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"-0.212056\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"y\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.386910\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"z\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.085793\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"w\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.893293\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"scale\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"x\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"y\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"z\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"1.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"camera\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"name\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"Camera\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"fov\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"37.849289\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"projectionType\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"perspective\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"clipping\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"nearPlaneDist\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.100000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"farPlaneDist\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"100.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"camera\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"node\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n  \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"nodes\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n  \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"externals\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"item\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"type\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"material\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"file\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"name\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"Scene.material\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"item\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n  \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"externals\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n  \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"environment\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"colourambient\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"r\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"g\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"b\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.000000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"colourbackground\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"r\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.056563\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"g\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.220815\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"b\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"0.400000\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n  \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"environment\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"scene\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Ya comenté que \", _jsxs(_components.strong, {\n        children: [\"utilizaría la biblioteca \", _jsx(_components.a, {\n          href: \"http://code.google.com/p/pugixml/\",\n          children: \"pugixml\"\n        })]\n      }), \" para procesar los ficheros xml de cada nivel. Tiene un rendimiento excelente, cuenta con una documentación clara y es muy sencilla de utilizar. No requiere instalaciones ya que simplemente hay que añadir tres ficheros al proyecto. Lo que sigue es un pequeño ejemplo para leer la información del entorno de la escena:\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-cpp\",\n        children: _jsxs(_components.code, {\n          className: \"language-cpp\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"void\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"Level\"\n          }), _jsx(_components.span, {\n            className: \"token double-colon punctuation\",\n            children: \"::\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"loadAmbientInfo\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" pugi\", _jsx(_components.span, {\n            className: \"token double-colon punctuation\",\n            children: \"::\"\n          }), \"xml_document\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u0026\"\n          }), \" doc\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// Cargamos el documento\"\n          }), \"\\n    pugi\", _jsx(_components.span, {\n            className: \"token double-colon punctuation\",\n            children: \"::\"\n          }), \"xml_node rootNode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"rootNode \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" doc\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"child\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"scene\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        cerr \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Level::loadNodesInfo(): error al leer el fichero xml en elemento scene\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c\u003c\"\n          }), \" endl\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"exit\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// Buscamos el nodo ambient\"\n          }), \"\\n    pugi\", _jsx(_components.span, {\n            className: \"token double-colon punctuation\",\n            children: \"::\"\n          }), \"xml_node enviromentNode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"enviromentNode \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" rootNode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"child\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"environment\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        cerr \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c\u003c\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Level::loadNodesInfo(): error al leer el fichero xml en elemento enviroment\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c\u003c\"\n          }), \" endl\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"exit\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// Tomamos el SceneManager\"\n          }), \"\\n    Ogre\", _jsx(_components.span, {\n            className: \"token double-colon punctuation\",\n            children: \"::\"\n          }), \"SceneManager\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" sceneManager \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"Game\"\n          }), _jsx(_components.span, {\n            className: \"token double-colon punctuation\",\n            children: \"::\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"getSceneManager\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// Leemos ambientColour\"\n          }), \"\\n    Ogre\", _jsx(_components.span, {\n            className: \"token double-colon punctuation\",\n            children: \"::\"\n          }), \"ColourValue ambientColour\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n    pugi\", _jsx(_components.span, {\n            className: \"token double-colon punctuation\",\n            children: \"::\"\n          }), \"xml_node colourNode \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" enviromentNode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"child\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"colourAmbient\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n    ambientColour\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"r \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" colourNode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"attribute\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"r\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"as_float\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n    ambientColour\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"g \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" colourNode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"attribute\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"g\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"as_float\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n    ambientColour\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"b \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" colourNode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"attribute\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"b\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"as_float\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// Establecemos el ambient colour\"\n          }), \"\\n    sceneManager\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"-\u003e\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"setAmbientLight\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"ambientColour\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Tenemos un problema y es que no \", _jsx(_components.strong, {\n        children: \"nos basta con conocer los objetos que componen la escena\"\n      }), \". Para los escenarios de Sion Tower necesitamos almacenar más datos: nombre, descripción, música que sonará durante la partida, icono, oleadas de enemigos, posición inicial del personaje, posición de la reliquia, \", _jsx(_components.a, {\n        href: \"http://en.wikipedia.org/wiki/Navigation_mesh\",\n        children: \"navigation mesh\"\n      }), \" (para la búsqueda de caminos), etc. DotScene proporciona un campo \", _jsx(_components.em, {\n        children: \"userData\"\n      }), \" para albergar información personalizada pero es complicado trabajar con él desde Blender. En secciones posteriores veremos cómo he abordado este problema.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Exportando desde Blender a DotScene\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Para exportar una escena de Blender al formato DotScene es necesario \", _jsx(_components.strong, {\n        children: \"instalar el plugin correspondiente\"\n      }), \". Las instrucciones son las siguientes:\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://ogreaddons.svn.sourceforge.net/viewvc/ogreaddons/trunk/blendersceneexporter/ogredotscene.py\",\n          children: \"Descargar el plugin\"\n        })\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Si utilizas GNU/Linux, copia el plugin en \", _jsx(_components.em, {\n          children: \"~/.blender/scripts/\"\n        }), \" y dale permisos de ejecución.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Si utilizas Windows copia el plugin en la carpeta plugins dentro del directorio de instalación de Blender. Por defecto es \", _jsx(_components.em, {\n          children: \"C:\\\\Archivos de Programa\\\\Blender Foundation\\\\Blender\"\n        }), \".\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/exportar-dotscene.webp\",\n      alt: \"exportar-dotscene.png\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Cuando tengamos nuestra escena en Blender hacemos click en \", _jsx(_components.em, {\n        children: \"file → export → OGRE Scene\"\n      }), \". Debemos seleccionar los objetos que queramos exportar (normalmente todos) y corregir los ejes X,Z ya que en Blender se disponen al revés que en Ogre. Por último elegimos la ruta destino y pulsamos sobre \", _jsx(_components.em, {\n        children: \"\\\"exportar\\\"\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Sistema de carga de niveles\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"El sistema de carga de niveles de Sion Tower se compone de dos clases principales: \", _jsx(_components.em, {\n        children: \"Level\"\n      }), \" y \", _jsx(_components.em, {\n        children: \"LevelManager\"\n      }), \". La clase \", _jsx(_components.em, {\n        children: \"Level\"\n      }), \" contiene la información de un nivel de juego completo (escena, oleadas de enemigos, posición inicial del personaje, etc). Una vez creado, un objeto \", _jsx(_components.em, {\n        children: \"Level\"\n      }), \" puede encontrarse en dos estados: \", _jsx(_components.strong, {\n        children: \"inicializado\"\n      }), \" o \", _jsx(_components.strong, {\n        children: \"cargado\"\n      }), \". Al estar inicializado sólo estará disponible su información básica como el nombre o la descripción. Si empleamos el método \", _jsx(_components.em, {\n        children: \"Level::load\"\n      }), \" podremos acceder a los objetos del escenario, la música que deberíamos reproducir, etc aunque ocupará mucha más memoria.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/levels.webp\",\n      alt: \"levels.png\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Cuando se crea un nivel, se lee la i\", _jsx(_components.strong, {\n        children: \"nformación básica\"\n      }), \" de un sencillo fichero xml independiente del DotScene. Los niveles tienen un identificador de forma que el fichero DotScene debe ser i\", _jsx(_components.em, {\n        children: \"d_scene.xml\"\n      }), \" y el que contiene información básica debe ser \", _jsx(_components.em, {\n        children: \"id_info.xml\"\n      }), \". Lo siguiente es un ejemplo de fichero de información básica:\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-unknown\",\n        children: _jsx(_components.code, {\n          className: \"language-unknown\",\n          children: \"\u0026lt; ?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot; ?\u0026gt;\\n\u0026lt;basicinfo\u0026gt;\\n    \u0026lt;name\u0026gt;The Hall\u0026lt;/name\u0026gt;\\n    \u0026lt;description\u0026gt;Some Goblins assault the main Hall of the Tower\u0026lt;/description\u0026gt;\\n    \u0026lt;song name=\u0026quot;music.ogg\u0026quot; group=\u0026quot;\u0026quot; /\u0026gt;\\n\u0026lt;/basicinfo\u0026gt;\"\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"La clase \", _jsx(_components.em, {\n        children: \"LevelManager\"\n      }), \" es la encargada de detectar los niveles disponibles, inicializarlos, controlar su ciclo de vida y permitir al usuario el acceso a los mismos. Sigue el patrón \", _jsx(_components.a, {\n        href: \"http://es.wikipedia.org/wiki/Singleton\",\n        children: \"Singleton\"\n      }), \" y en el momento de su creación toma todos los ficheros \", _jsx(_components.em, {\n        children: \"_info.xml\"\n      }), \" del directorio \", _jsx(_components.em, {\n        children: \"media/levels\"\n      }), \" para construir los niveles.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/level_system.webp\",\n      alt: \"level_system.png\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Convenciones en el nombrado\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Los nodos\"\n      }), \" que contengan entidades (mayas tridimensionales) \", _jsx(_components.strong, {\n        children: \"pueden tener varios significados\"\n      }), \" dentro de Sion Tower en función de su nombrado.\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Objetos colisionables\"\n        }), \": siguen el patrón \", _jsx(_components.em, {\n          children: \"\\\"scene – objectType – objectNumber\\\"\"\n        }), \". El tipo de objeto nos indica el modelo colisionable que posee (table, bigWall, chair…). El número evita que tengamos entidades duplicadas.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Posición del jugador\"\n        }), \": la entidad \", _jsx(_components.em, {\n          children: \"\\\"player\\\"\"\n        }), \" se utiliza para definir la posición inicial del jugador.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Posición de la reliquia\"\n        }), \": la entidad \", _jsx(_components.em, {\n          children: \"\\\"relic\\\"\"\n        }), \" define la posición del objeto precioso que debe proteger nuestro protagonista.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"El fichero DotScene generado con Blender deberá contener información adicional aún no implementada como:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Navigation mesh\"\n        }), \": maya que indica la superficie por la que pueden desplazarse los enemigos. Resultará muy útil para la búsqueda de caminos y la inteligencia artificial.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Oleadas de enemigos\"\n        }), \": otras entidades deberán definir el tipo de enemigo, el momento en el que entrará y por dónde lo hará.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/wow-navmesh.webp\",\n      alt: \"wow-navmesh.jpg\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"El navigation mesh puede representarse mediante pequeñas esferas, así como la posición inicial de la reliquia o el personaje, a gusto del diseñador de niveles. Lo importante es que se cumplan las reglas de nombrado.\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Catálogo de objetos colisionables\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"La clase \", _jsx(_components.em, {\n        children: \"LevelManager\"\n      }), \" lleva internamente un catálogo de objetos Body que definen los tipos de elementos colisionables que podemos encontrar en la escena. Al cagar un nivel y toparnos con una entidad del tipo \", _jsx(_components.em, {\n        children: \"\\\"scene – objectType – objectNumber\\\"\"\n      }), \" le pedimos a \", _jsx(_components.em, {\n        children: \"LevelManager\"\n      }), \" que nos devuelva el Body correspondiente con el identificador indicado mediante el método \", _jsx(_components.em, {\n        children: \"createBodyFromCatalog()\"\n      }), \". El catálogo se pruebla al crear la única instancia de \", _jsx(_components.em, {\n        children: \"LevelManager\"\n      }), \" desde un fichero como el siguiente:\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-unknown\",\n        children: _jsx(_components.code, {\n          className: \"language-unknown\",\n          children: \"\u0026lt; ?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot; ?\u0026gt;\\n\u0026lt;bodies\u0026gt;\\n    \u0026lt;body name=\u0026quot;floor\u0026quot; type=\u0026quot;1\u0026quot;\u0026gt;\\n        \u0026lt;shape type=\u0026quot;plane\u0026quot;\u0026gt;\\n            \u0026lt;position x=\u0026quot;0\u0026quot; y=\u0026quot;0\u0026quot; z=\u0026quot;0\u0026quot;/\u0026gt;\\n            \u0026lt;normal x=\u0026quot;0\u0026quot; y=\u0026quot;1\u0026quot; z=\u0026quot;0\u0026quot;/\u0026gt;\\n        \u0026lt;/shape\u0026gt;\\n    \u0026lt;/body\u0026gt;\\n    \u0026lt;body name=\u0026quot;wallcentered\u0026quot; type=\u0026quot;2\u0026quot;\u0026gt;\\n        \u0026lt;shape type=\u0026quot;obb\u0026quot;\u0026gt;\\n            \u0026lt;center x=\u0026quot;0\u0026quot; y=\u0026quot;0\u0026quot; z=\u0026quot;0\u0026quot;/\u0026gt;\\n            \u0026lt;extent x=\u0026quot;0.5\u0026quot; y=\u0026quot;1\u0026quot; z=\u0026quot;0.04\u0026quot;/\u0026gt;\\n            \u0026lt;axes a00=\u0026quot;1\u0026quot; a01=\u0026quot;0\u0026quot; a02=\u0026quot;0\u0026quot; a10=\u0026quot;0\u0026quot; a11=\u0026quot;1\u0026quot; a12=\u0026quot;0\u0026quot; a20=\u0026quot;0\u0026quot; a21=\u0026quot;0\u0026quot; a22=\u0026quot;1\u0026quot; /\u0026gt;\\n        \u0026lt;/shape\u0026gt;\\n    \u0026lt;/body\u0026gt;\\n    \u0026lt;body name=\u0026quot;wall\u0026quot; type=\u0026quot;2\u0026quot;\u0026gt;\\n        \u0026lt;shape type=\u0026quot;obb\u0026quot;\u0026gt;\\n            \u0026lt;center x=\u0026quot;0\u0026quot; y=\u0026quot;1\u0026quot; z=\u0026quot;0\u0026quot;/\u0026gt;\\n            \u0026lt;extent x=\u0026quot;0.5\u0026quot; y=\u0026quot;1\u0026quot; z=\u0026quot;0.04\u0026quot;/\u0026gt;\\n            \u0026lt;axes a00=\u0026quot;1\u0026quot; a01=\u0026quot;0\u0026quot; a02=\u0026quot;0\u0026quot; a10=\u0026quot;0\u0026quot; a11=\u0026quot;1\u0026quot; a12=\u0026quot;0\u0026quot; a20=\u0026quot;0\u0026quot; a21=\u0026quot;0\u0026quot; a22=\u0026quot;1\u0026quot; /\u0026gt;\\n        \u0026lt;/shape\u0026gt;\\n    \u0026lt;/body\u0026gt;\\n    \u0026lt;body name=\u0026quot;cube\u0026quot; type=\u0026quot;2\u0026quot;\u0026gt;\\n        \u0026lt;shape type=\u0026quot;obb\u0026quot;\u0026gt;\\n            \u0026lt;center x=\u0026quot;0\u0026quot; y=\u0026quot;0\u0026quot; z=\u0026quot;0\u0026quot;/\u0026gt;\\n            \u0026lt;extent x=\u0026quot;1\u0026quot; y=\u0026quot;1\u0026quot; z=\u0026quot;1\u0026quot;/\u0026gt;\\n            \u0026lt;axes a00=\u0026quot;1\u0026quot; a01=\u0026quot;0\u0026quot; a02=\u0026quot;0\u0026quot; a10=\u0026quot;0\u0026quot; a11=\u0026quot;1\u0026quot; a12=\u0026quot;0\u0026quot; a20=\u0026quot;0\u0026quot; a21=\u0026quot;0\u0026quot; a22=\u0026quot;1\u0026quot; /\u0026gt;\\n        \u0026lt;/shape\u0026gt;\\n    \u0026lt;/body\u0026gt;\\n    \u0026lt;body name=\u0026quot;sphere\u0026quot; type=\u0026quot;2\u0026quot;\u0026gt;\\n        \u0026lt;shape type=\u0026quot;sphere\u0026quot;\u0026gt;\\n            \u0026lt;center x=\u0026quot;0\u0026quot; y=\u0026quot;0\u0026quot; z=\u0026quot;0\u0026quot;/\u0026gt;\\n            \u0026lt;radius value=\u0026quot;1\u0026quot;/\u0026gt;\\n        \u0026lt;/shape\u0026gt;\\n    \u0026lt;/body\u0026gt;\\n\u0026lt;/bodies\u0026gt;\"\n        })\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Próximamente\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Espero terminar de pulir el sistema de niveles y conseguir el arte necesario para subir un nuevo vídeo más vistoso. \", _jsx(_components.strong, {\n        children: \"¡Seguiré informando!\"\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","scope":{}},"series":null},"__N_SSG":true},"page":"/[slug]","query":{"slug":"creacion-de-escenarios-en-formato-dotscene-con-blender"},"buildId":"CN-lfJWlIDhEOrNUFgPZU","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>