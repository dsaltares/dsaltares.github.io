{"pageProps":{"metadata":{"path":"content/post/2011-07-03-terreno-montanoso-en-blender.mdx","title":"Terreno montañoso en Blender","date":"2011-07-03T13:11:25.000Z","categories":["Games development"],"series":null,"description":null,"slug":"terreno-montanoso-en-blender","readingTime":"6 min read","draft":false,"disableComments":false,"keywords":[],"banner":null},"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    strong: \"strong\",\n    a: \"a\",\n    h3: \"h3\",\n    em: \"em\",\n    img: \"img\",\n    ol: \"ol\",\n    li: \"li\",\n    ul: \"ul\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Me gustaría pedir disculpas por el descenso en el ritmo de publicación, el motivo es muy sencillo: estoy \", _jsxs(_components.strong, {\n        children: [\"trabajando de forma intensa en la interfaz de \", _jsx(_components.a, {\n          href: \"/proyectos/sion-tower/\",\n          children: \"Sion Tower\"\n        })]\n      }), \". Para el menú principal he creado un \", _jsx(_components.strong, {\n        children: \"escenario montañoso\"\n      }), \" con los enemigos aproximándose a la Torre Sagrada en medio de una intensa lluvia. \", _jsx(_components.strong, {\n        children: \"Modelar las montañas con Blender\"\n      }), \" es terriblemente sencillo una vez se conoce la técnica apropiada y aquí vamos a comentarla en detalle.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Creación de la malla\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Lo primero que debes hacer es abrir Blender y eliminar el cubo por defecto. Utilizaremos una rejilla o malla de vértices para modelar el terreno. El proceso es simple, habrá que modificar la posición \", _jsx(_components.em, {\n        children: \"Z\"\n      }), \" (vertical) de varios vértices para crear elevaciones. Finalmente, utilizaremos suavizado para evitar los bordes abruptos.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Para \", _jsx(_components.strong, {\n        children: \"añadir la rejilla\"\n      }), \" seleccionamos \", _jsx(_components.em, {\n        children: \"Add → Mesh → Grid\"\n      }), \" e indicamos el número de vértices. A mayor resolución más calidad pero el coste computacional en Blender y en un videojuego crecerá de forma cuadrática. En Sion Tower me ha bastado con \", _jsx(_components.em, {\n        children: \"50×50\"\n      }), \", el suavizado final se encargará de mejorar el resultado. Después, en modo edición, debes escalar la rejilla hasta que se ajuste a la escala de tu juego o entorno.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-grid.webp\",\n      alt: \"blender-grid.jpg\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Modelado de las montañas\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"La clave está en utilizar el modo de \", _jsx(_components.strong, {\n        children: \"edición proporcional\"\n      }), \" que activamos pulsando la tecla \", _jsx(_components.em, {\n        children: \"O\"\n      }), \". Veremos que el modo también puede activarse en la barra de herramientas \", _jsx(_components.em, {\n        children: \"Proportional – On\"\n      }), \". Este modo hará que, al modificar un vértice, los vecinos dentro de un radio de acción también se vean ligeramente afectados. Justo al lado establecemos el \", _jsx(_components.em, {\n        children: \"Falloff\"\n      }), \" a \", _jsx(_components.em, {\n        children: \"Smooth Falloff\"\n      }), \". Para activar el suavizado, seleccionamos todos los vértices con \", _jsx(_components.em, {\n        children: \"A\"\n      }), \" y pulsamos en \", _jsx(_components.em, {\n        children: \"Set Smooth\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-elevacion.webp\",\n      alt: \"blender-elevacion.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"El proceso a seguir para \", _jsx(_components.strong, {\n        children: \"crear o modificar elevaciones\"\n      }), \" es:\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Seleccionar un vértice con el botón derecho y ajustar el radio de acción con la rueda del ratón a nuestro gusto.\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Desplazar el vértice pulsando la tecla \", _jsx(_components.em, {\n          children: \"G\"\n        }), \", es importante restringirlo al eje vertical con la tecla \", _jsx(_components.em, {\n          children: \"Z\"\n        }), \", de lo contrario se producen efectos extraños.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Repetir el proceso con vértices y radios de acción diferentes hasta conseguir el resultado deseado.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-terrain.webp\",\n      alt: \"blender-terrain.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Recuerda que \", _jsx(_components.strong, {\n        children: \"las montañas son estructuras naturales\"\n      }), \" y que, por tanto, muestran multitud de irregularidades. En la asimetría y lo brusco está el secreto.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Texturizar el terreno\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Continuamos la creación del terreno \", _jsx(_components.strong, {\n        children: \"añadiendo una textura\"\n      }), \":\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Seleccionamos el terreno, acudimos al panel de materiales (\", _jsx(_components.em, {\n          children: \"F5\"\n        }), \") y añadimos un material nuevo.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Las montañas no tienen un aspecto de material plástico, por lo que establecemos su color especular a .\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Nos dirigimos al panel de texturas (\", _jsx(_components.em, {\n          children: \"F6\"\n        }), \") y añadimos una nueva textura de tipo imagen con césped.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Cargamos la textura de fichero y establecemos las propiedades \", _jsx(_components.em, {\n          children: \"XRepeat\"\n        }), \" e \", _jsx(_components.em, {\n          children: \"YRepeat\"\n        }), \" que, como sus propios nombres indican, hacen repetir la textura.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/grass.webp\",\n      alt: \"grass.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Si pulsas \", _jsx(_components.em, {\n        children: \"F12\"\n      }), \" verás el renderizado de tus montañas y no tardarás de percatarte de dos problemas: la iluminación y… \", _jsx(_components.strong, {\n        children: \"¡parecen las montañas de los hobbits estando verdes!\"\n      }), \" En primer lugar, deberás jugar con las fuentes de luz. Ahora nos centraremos en mezclar varias texturas.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/terrain.webp\",\n      alt: \"terrain.jpg\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Texturas stencil\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Un terreno de corte más realista tiene \", _jsx(_components.strong, {\n        children: \"varias texturas\"\n      }), \": hierba, tierra, rocas o incluso nieve. Las transiciones entre las mismas deben ser suaves y su situación debe ser lógica: la hierba abunda en los valles mientras la roca en los picos montañosos. En esta sección aprenderemos a aplicar varias texturas a nuestro terreno mezclándolas entre sí de manera apropiada.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Imaginad que tendremos una \", _jsx(_components.strong, {\n        children: \"pila de capas con varias texturas\"\n      }), \" ordenadas: hierba, roca y nieve. En medio colocaremos dos texturas en escala de grises llamadas stencil que indicarán al sistema de renderizado cómo han de mezclarse las capas entre sí. Un color negro indica que sólo ha de visualizarse la capa superior, blanco significa que sólo se vera la capa inferior. Lo interesante es que un valor intermedio o gris significará que las capas se mezclarán siguiendo la ponderación del color.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-stencil-3d.webp\",\n      alt: \"blender-stencil-3d.jpg\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Seguimos el siguiente proceso:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Cambiamos del modo edición al \", _jsx(_components.em, {\n          children: \"Vertex Paint\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Seleccionamos el panel de edición (\", _jsx(_components.em, {\n          children: \"F9\"\n        }), \") y veremos una paleta de colores. Elegimos el color negro y pulsamos sobre \", _jsx(_components.em, {\n          children: \"set VertCol\"\n        }), \" y la malla quedará completamente negra (se visualizaría la capa inferior).\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Elegimos el color blanco y configuramos tanto la opacidad como el tamaño.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Comenzamos a pintar el terreno: los picos deberían ser completamente blancos (roca), las lomas de un tono intermedio y los valles prácticamente negros (hierba).\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Cuando estemos satisfechos seleccionaremos la vista \", _jsx(_components.em, {\n          children: \"Top\"\n        }), \" y el modo de proyección ortográfico. Hemos de hacer una captura de pantalla y aislar la el resultado con cualquier software de edición de imágenes como Gimp.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-stencil.webp\",\n      alt: \"blender-stencil.jpg\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Volvemos al modo edición y creamos una nueva textura debajo de la hierba de tipo imagen cargando la textura stencil hierba-roca. Esta textura no debe repetirse.\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"En el panel \", _jsx(_components.em, {\n          children: \"Map To\"\n        }), \" deseleccionamos \", _jsx(_components.em, {\n          children: \"Col\"\n        }), \" y activamos \", _jsx(_components.em, {\n          children: \"Stencil\"\n        }), \" y \", _jsx(_components.em, {\n          children: \"No RGB\"\n        }), \".\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Creamos una nueva textura para la roca, cargamos la imagen y aplicamos repetición.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/rock.webp\",\n      alt: \"rock.jpg\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-stencil-aplicando.webp\",\n      alt: \"blender-stencil-aplicando.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Si renderizas con \", _jsx(_components.em, {\n        children: \"F12\"\n      }), \" verás un resultado mucho más satisfactorio.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/terrain-rock.webp\",\n      alt: \"terrain-rock.jpg\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Resultado final\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Si repites el proceso stencil para añadir una \", _jsx(_components.strong, {\n        children: \"nueva capa con nieve\"\n      }), \" el resultado tendrá mucha más calidad:\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/terrain-snow.webp\",\n      alt: \"terrain-snow.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"La escena final para el \", _jsx(_components.strong, {\n        children: \"menú principal de Sion Tower\"\n      }), \" ha quedado de la siguiente manera:\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/siontower-menu.webp\",\n      alt: \"siontower-menu.jpg\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Nota importante\"\n      }), \": A la hora de exportar a Ogre el modelo con las texturas stencil he tenido muchos problemas. Al final la solución ha pasado por mezclar yo mismo las capas stencil con las de texturas utilizando Gimp y aplicarlas a la maya utilizando mapeado UV.\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/img/wp/blender-stencil-precomputado.webp\",\n      alt: \"blender-stencil-precomputado.jpg\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Referencias\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Para realizar el proceso y redactar el artículo he seguido estos dos estupendos tutoriales con varios añadidos personales:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://en.wikibooks.org/wiki/Blender_3D:_Noob_to_Pro/Landscape_Modeling_I:_Basic_Terrain\",\n          children: \"Blender 3D: Noob to Pro – Landscape Modeling I: Basic Terrain\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://en.wikibooks.org/wiki/Blender_3D:_Noob_to_Pro/Landscape_Modeling_II:_Texture_Stenciling\",\n          children: \"Blender 3D: Noob to Pro – Landscape Modeling II: Texture Stenciling\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","scope":{}},"series":null},"__N_SSG":true}