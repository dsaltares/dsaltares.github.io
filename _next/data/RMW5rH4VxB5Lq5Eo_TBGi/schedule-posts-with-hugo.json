{"pageProps":{"metadata":{"path":"content/post/2021-05-01-schedule-posts-with-hugo.mdx","title":"Schedule posts with Hugo","date":"2021-05-02T00:00:00.000Z","categories":["General"],"series":null,"description":"Schedule your hugo blog posts using Github Actions and CI","slug":"schedule-posts-with-hugo","readingTime":"2 min read","draft":false,"disableComments":false,"keywords":["github actions","hugo","blogging","hugo blogs","posts","publishing","posting"]},"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    em: \"em\",\n    div: \"div\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Back in 2020, I migrated this blog to \", _jsx(_components.a, {\n        href: \"/easily-deploy-your-hugo-site-to-github-pages/\",\n        children: \"Hugo and Github pages\"\n      }), \". I also set up a \", _jsx(_components.em, {\n        children: \"\\\"push to publish\\\"\"\n      }), \" CD pipeline with Github pages.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Happy days.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ðŸ¤” A couple of days ago I wondered if there was a low effort way to schedule posts. That way, I could easily bulk some writing together and publish it later on without having to come back to it.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"It's actually trivial to set up!\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Simply add a \", _jsx(_components.a, {\n        href: \"https://docs.github.com/en/actions/reference/events-that-trigger-workflows#scheduled-events\",\n        children: \"schedule trigger\"\n      }), \" to your Github Action like so:\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-yaml\",\n        children: _jsxs(_components.code, {\n          className: \"language-yaml\",\n          children: [_jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" Build and deploy\\n\\n\", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"on\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"push\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"branches\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" master\\n  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"schedule\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"cron\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'0 0 * * *'\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# Once per day at midnight\"\n          }), \"\\n\\n\", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"jobs\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"build\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"runs-on\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" ubuntu\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"latest\\n    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"steps\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" Checkout\\n      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"uses\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" actions/checkout@v1\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" Setup Hugo\\n      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"uses\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" peaceiris/actions\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"hugo@v2\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" Build\\n      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"run\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" hugo\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" Deploy\\n      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"uses\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" peaceiris/actions\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"gh\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"pages@v2\\n      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"env\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"EXTERNAL_REPOSITORY\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" dsaltares/dsaltares.github.io\\n        \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"ACTIONS_DEPLOY_KEY\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" $\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \" secrets.ACTIONS_DEPLOY_KEY \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"PUBLISH_BRANCH\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" master\\n        \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"PUBLISH_DIR\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" ./public\\n\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now you can push posts that will be published into the future by setting the \", _jsx(_components.a, {\n        href: \"https://gohugo.io/content-management/front-matter/\",\n        children: \"front matter\"\n      }), \" \", _jsx(_components.code, {\n        children: \"date\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-unknown\",\n        children: _jsx(_components.code, {\n          className: \"language-unknown\",\n          children: \"date: 3059-05-01T00:00:00+00:00\"\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"That could be a post for future generations ðŸ˜….\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"When \", _jsx(_components.code, {\n        children: \"hugo\"\n      }), \" runs, it does not generate HTML for posts with dates in the future. However, our Github Action runs every day at midnight. This means that the run for May 1st 3059 will actually generate the HTML for our scheduled post and publish it ðŸ™Œ.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ðŸ“† This post itself was scheduled!\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","scope":{}},"series":null},"__N_SSG":true}